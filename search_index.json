[["index.html", "Data Science guidance session logs Overview DSgs-guide team members Graphs R session information", " Data Science guidance session logs Leonardo Collado-Torres Overview This website contains the public logs for the Data Science guidance sessiones carried out by the R/Bioconductor-powered Team Data Science at LIBD. DSgs-guide team members Arta Seyedian Joshua M. Stolz Louise Huuki Nicholas J. Eagles Madhavi Tippani Graphs Below we see the number of DSgs sessions across weeks for each of the guides for each type of help/guidance request over weeks of the year. As a team, we can see the number of requests we’ve addressed over the weeks. Finally, we can check if the overall number of help requests we’ve attended as the weeks have gone by. These graphs are partially based on lcolladotor/mphtasessions. R session information Details on the R version used for making this book. The source code is available at lcolladotor/DSgs_logs. ## Packages used in the book library(&quot;ggplot2&quot;) library(&quot;lubridate&quot;) library(&quot;dplyr&quot;) library(&quot;here&quot;) ## Load the package at the top of your script library(&quot;sessioninfo&quot;) ## Reproducibility information print(&#39;Reproducibility information:&#39;) ## [1] &quot;Reproducibility information:&quot; Sys.time() ## [1] &quot;2021-06-23 19:19:09 UTC&quot; proc.time() ## user system elapsed ## 2.420 0.172 2.499 options(width = 120) session_info() ## ─ Session info ─────────────────────────────────────────────────────────────────────────────────────────────────────── ## setting value ## version R version 4.1.0 (2021-05-18) ## os Ubuntu 20.04.2 LTS ## system x86_64, linux-gnu ## ui X11 ## language (EN) ## collate en_US.UTF-8 ## ctype en_US.UTF-8 ## tz Etc/UTC ## date 2021-06-23 ## ## ─ Packages ─────────────────────────────────────────────────────────────────────────────────────────────────────────── ## package * version date lib source ## bookdown 0.22 2021-04-22 [1] RSPM (R 4.1.0) ## cli 2.5.0 2021-04-26 [2] RSPM (R 4.1.0) ## colorspace 2.0-1 2021-05-04 [1] RSPM (R 4.1.0) ## crayon 1.4.1 2021-02-08 [2] RSPM (R 4.1.0) ## digest 0.6.27 2020-10-24 [2] RSPM (R 4.1.0) ## dplyr * 1.0.7 2021-06-18 [1] RSPM (R 4.1.0) ## ellipsis 0.3.2 2021-04-29 [2] RSPM (R 4.1.0) ## evaluate 0.14 2019-05-28 [2] RSPM (R 4.1.0) ## fansi 0.5.0 2021-05-25 [2] RSPM (R 4.1.0) ## farver 2.1.0 2021-02-28 [1] RSPM (R 4.1.0) ## generics 0.1.0 2020-10-31 [1] RSPM (R 4.1.0) ## ggplot2 * 3.3.4 2021-06-16 [1] RSPM (R 4.1.0) ## glue 1.4.2 2020-08-27 [2] RSPM (R 4.1.0) ## gtable 0.3.0 2019-03-25 [1] RSPM (R 4.1.0) ## here * 1.0.1 2020-12-13 [1] RSPM (R 4.1.0) ## highr 0.9 2021-04-16 [2] RSPM (R 4.1.0) ## htmltools 0.5.1.1 2021-01-22 [1] RSPM (R 4.1.0) ## knitr 1.33 2021-04-24 [2] RSPM (R 4.1.0) ## labeling 0.4.2 2020-10-20 [1] RSPM (R 4.1.0) ## lifecycle 1.0.0 2021-02-15 [2] RSPM (R 4.1.0) ## lubridate * 1.7.10 2021-02-26 [1] RSPM (R 4.1.0) ## magrittr 2.0.1 2020-11-17 [2] RSPM (R 4.1.0) ## munsell 0.5.0 2018-06-12 [1] RSPM (R 4.1.0) ## pillar 1.6.1 2021-05-16 [2] RSPM (R 4.1.0) ## pkgconfig 2.0.3 2019-09-22 [2] RSPM (R 4.1.0) ## purrr 0.3.4 2020-04-17 [2] RSPM (R 4.1.0) ## R6 2.5.0 2020-10-28 [2] RSPM (R 4.1.0) ## RColorBrewer 1.1-2 2014-12-07 [1] RSPM (R 4.1.0) ## Rcpp 1.0.6 2021-01-15 [2] RSPM (R 4.1.0) ## rlang 0.4.11 2021-04-30 [2] RSPM (R 4.1.0) ## rmarkdown 2.9 2021-06-15 [1] RSPM (R 4.1.0) ## rprojroot 2.0.2 2020-11-15 [2] RSPM (R 4.1.0) ## rstudioapi 0.13 2020-11-12 [2] RSPM (R 4.1.0) ## scales 1.1.1 2020-05-11 [1] RSPM (R 4.1.0) ## sessioninfo * 1.1.1 2018-11-05 [2] RSPM (R 4.1.0) ## stringi 1.6.2 2021-05-17 [2] RSPM (R 4.1.0) ## stringr 1.4.0 2019-02-10 [2] RSPM (R 4.1.0) ## tibble 3.1.2 2021-05-16 [2] RSPM (R 4.1.0) ## tidyselect 1.1.1 2021-04-30 [1] RSPM (R 4.1.0) ## utf8 1.2.1 2021-03-12 [2] RSPM (R 4.1.0) ## vctrs 0.3.8 2021-04-29 [2] RSPM (R 4.1.0) ## withr 2.4.2 2021-04-18 [2] RSPM (R 4.1.0) ## xfun 0.24 2021-06-15 [2] RSPM (R 4.1.0) ## yaml 2.2.1 2020-02-01 [2] RSPM (R 4.1.0) ## ## [1] /usr/local/lib/R/host-site-library ## [2] /usr/local/lib/R/site-library ## [3] /usr/local/lib/R/library This book was last updated on 2021-06-23 19:19:09. "],["arta.html", "1 Arta", " 1 Arta Date Help request Notes 2020-10-21 copy number variation analysis (CNV) BioC Support website answer 2020-11-12 RDavid Error I recommended that they reach out to their forum board 2020-11-23 Ran Genome Studio, installed PLINK input plugin There is a plugin for Genome Studio by Illumina that allows users to output their imputed allele results as PLINK inputs 2020-12-03 Inline formula throwing an error for interaction term RStudio Community self-answer 2021-03-18 Attempted SPEAQeasy installation on MacOS Failed MacOS installation on Lieber MacBook, something about Java both being and also not being installed 2021-04-20 Running FUSION / TWAS I gave Sreya a conceptual introduction to transcriptome imputation and sent her some resources to help her get started on FUSION / TWAS 2021-04-28 Setting up FUSION / TWAS for practice I showed Sreya how to set up the S-TWAS directory that I adapted in the Zandi-Hyde bipolar project for her own adaptation. I also sent her some useful videos on how to set up GitHub with her JHPCE account and install an SFTP client for Ubuntu (I prefer Filezilla) 2021-06-02 Using GenomeStudio Used GenomeStudio again to produce PLINK files 2021-06-15 FUSION / TWAS Walkthrough https://github.com/LieberInstitute/zandiHyde_bipolar_rnaseq/tree/master/dev_twas#bd-twas-workflow 2021-06-21 TWAS questions cleared up some confusion about filter_snps.R "],["josh.html", "2 Josh", " 2 Josh Date Help request Notes 2020-03-16 get effect size for calcium imaging reffered to package “effsize” should be efficient at easily doing this 2020-10-28 Learning Lexical Scoping Rules NA 2021-03-26 help doing a power analysis for RNA-seq data sent him the scripts from andrew, wondering if I should make it into a function 2021-05-14 questions about processing genotype data explained the process of using topmed imputation and later we will get the mds 2021-06-01 gene ontology for genesets run clusterprofiler on a set of DE hits 2021-06-05 checking plots and data structure in clusterprofiler the way we had run cluster profiler was generating lists in a way that the plot functions could not work with 2021-06-10 mds for vcfs still working on this will touch base again, we are trying to obtain the mds plot for ancestry in the placental data. "],["leo.html", "3 Leo", " 3 Leo Date Help request Notes 2020-10-21 Ballgown stattest BioC Support website answer 2020-10-28 exceRpt pipeline counts BioC Support website answer 2020-10-30 recount3 GTEx data access BioC Support website answer 2020-10-30 Issue with JHPCE file permissions Explained the chgrp and umask commands plus ~/.bashrc file configuration. I also mentioned why we don’t use chmod 777 at JHPCE. Details on Slack (private channel). 2020-11-03 Issue with knitcitations GitHub issue at biocthis 2020-11-03 Fixed a bug on biocthis for release branches GitHub issue at biocthis 2020-11-03 Fixed two bugs on recount3 related to locate_url() for the BigWig files. Resulted in recount3 versions 1.1.1 and 1.1.2 on bioc-devel (and 1.0.2 on bioc-release) 2020-11-11 GitHub actions workflow issue with macOS on R-devel GitHub issue at biocthis 2020-11-11 Differences between recount2’s “bp_length” and SPEAQeasy’s “Length” Check Slack helpdesk channel 2020-11-25 Accesing CMC RNA-seq data Started PsychENCODE access request process 2021-01-11 Questions related to accessing results from the DG paper by Andrew Jaffe NA 2021-01-14 biocthis macOS GHA bug BioC Support website answer 2021-01-26 Guidance on how to download data from a study in GEO NA 2021-01-29 Help determining what data is available and what can be used for an analysis Use of galaxybrain for identifying samples with DNAm, DNA genotype and RNA-seq data 2021-02-05 BSP2 LIBD eQTLs request NA 2021-03-10 How to write a small methods paper Created GitHub issues at https://github.com/LieberInstitute/VisiumImgProcessing/issues 2021-03-11 BSP2 eQTLs with a subset of SNPs Adapted code and shared it at https://github.com/LieberInstitute/brainseq_phase2/tree/master/eQTL_full/subset_hancock 2021-03-24 Download SRA data and run SPEAQeasy I identified that https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE154829 contains both miRNA and RNA-seq data. Using data from the SRA Run selector at https://trace.ncbi.nlm.nih.gov/Traces/study/?acc=SRP273137&amp;o=acc_s%3Aa I was able to filter the data to the RNA-seq samples and subset the input samples.manifest file for SPEAQeasy. 2021-03-24 Explain the feasibility of an on-demand end user interface for DEG and eQTLs To identify DEGs or eQTLs, the user has to choose what covariates to adjust for. Some studies might require more complicated models than others, as they might be from more than one brain region or present some batch effect. In addition, in newer projects we are considering adjusting for cell type fractions derived from deconvolution. Even if all the covariates were fixed across datasets, in DEGs we have typically adjusted for qSVs which are computed in a dataset-dependent fashion and in essence are PCs derived from degradation-associated genomic regions. Similarly, for eQTLs we adjust for expression PCs. In both we adjust for ancestry PCs. Computing PCs is input-dependent: you won’t get the same values or PCs if you change which samples you are using. So, computing DEGs and eQTLs is not as simple as say a map-reduce problem where you compute the same thing for every input sample, then aggregate the per-sample results. We have steps that depend on the whole sample set. Then there’s also steps for filtering expression features based on some minimum expression cutoffs. Plus, differences between say polyA and RiboZero data, which don’t make sense to process together. For these reasons, I don’t think that an on-demand computation pipeline is feasible based on a user selecting a set of input samples. Constructing RNA-seq objects (RangedSummarizedExperiment objects) as well as DNA genotyping VCF files based on a set of input samples is feasible and that’s what others are building. After that, I think that it’s best to adapt code we have (or even use newer tools) after carefully exploring the data. 2021-03-25 Creating a documentation website using bookdown Help with understanding bookdown and ideas on how to organize a documentation website (chapters and information to consider). 2021-03-25 Clarification of LIBD support Discussed the research project proposal and how we can help. 2021-03-25 General advice General advice. Received feedback regarding file backups. 2021-03-29 spatialLIBD support Discussion about features that spatialLIBD could support to make it easier to use for newer data. 2021-04-08 General guidance on how to learn how to do differential expression analyses Created a learning plan involving several team members that is now documented at a channel in JHU Genomics Slack. That way everyone can keep track of what others are teaching the person who asked the question, and we can have a common communication channel among everyone involved. Sessions include learning how to interact with JHPCE through RStudio, how to run SPEAQeasy, key R/Bioconductor packages (limma, SummarizedExperiment), and explore possible visualizations of interest. "],["louise.html", "4 Louise", " 4 Louise Date Help request Notes 2020-10-20 Help with spatstat spatstat package https://spatstat.org/releasenotes/spatstat-1.39-0.html, L function https://www.rdocumentation.org/packages/spatstat/versions/1.64-1/topics/Lest, Kmark https://www.rdocumentation.org/packages/spatstat/versions/1.64-1/topics/Kmark 2020-10-21 Question: Subset center regions of a set of different length sequences BioC Support website answer 2020-10-27 Plotly help if possible? I’m trying to export an html file that allows the user to look at each snp/gene on the plot, and I am almost successful. Leo recommended that I talk to you on this matter. Needed to use highlight_key and highlight functions to select points between plots. Used rstats example as guide https://gist.github.com/lcolladotor/350ac8843e153d135f64880a1d029b14 2020-11-05 LC repo organization We discussed organizing by analysis (a directory for each one, then prehaps sub- directory for data &amp; plots). Create a readMe for each sub-folder. Use gitignore to keep repo from getting too big. 2020-11-12 Help adapting ggplot script for TWAS Z-score We talked about how the data should be structured before using ggplot (transforming some data and adding catagorical columns) 2020-11-13 Using reshape package to transform table for plotting I recomended using dcast to do a “long” to “wide” data transformation 2020-11-18 Help clustering sce data We debugged some code and ultimetly decided that it might be best for Abby to write new code and use the tsne function to cluster and plot the data 2020-12-07 jhpce set up on mac Went through the setting up passwordless login for jhpce using ssh keys, and coppied the configuration files from https://gist.github.com/lcolladotor/3b1063db30a206835ee7e086c8f037ee 2020-12-08 Resolving issues in phenotype data between genotype, expression, and LIBDpheno Need to resolve swap bugs. Plan to create a table of phenotype data (Dx, age, sex, race) for each BrNum to mach genotype data 2021-01-27 group_by bug for get_mean_ratio We are going to try an iterative strategy to keep tables smaller 2021-02-04 Work on habenula deconvolution and debug the deconvolution package We went over applying DeconvoBuddies functions to hebenula data 2021-02-04 Github ssh key set up We got the ssh keys working for Brenda’s github 2021-02-09 Visualizing RPKM valus for genes in Humna and Primarte data We spent time doing basic Rstudio setup and troubleshooting, and got the data downloaded 2021-03-05 Maker finding for cell types in single cell data I showed them the tools I developed in DeconvoBuddies pacakge, and provided links to example code where I had applied these funcitons in previous work 2021-03-19 Change point size in vis_clust_grid We walked througth the SpatialLIBD code to find where the argument has to be changed 2021-03-26 Need help understanding the sce - single cell object Went over basic functions of SummarizedExperiment and SingleCellExperiment, what a Sparse matrix is - how to convert to non-sparse. Steps to take to use getRPKM on SingeCellExperient. 2021-04-15 JHPCE set up on mac Henry needed to reset his JHPCE password as he had forgotten it, but we went through RStudio set up and got cyberduck installed, we will set up a meeting next week for ssh keys and configuration 2021-04-19 JHPCE set up on mac We got ssh key login working, added config files to JHPCE, went though a “hello world” example of using files on JHPCE on RStudio 2021-05-12 Making plots for DE studies We went over some plots we have made for DE previously, (quality control &amp; PC scatter plots, t-stat scatter between models, venn diagrams, and boxplots). Talked about some things to watch out for in her data (small samples size). We are planning to meet again when her data is ready. 2021-05-20 Making plots for DE studies We reviewed the model that Sreya was evaluating for DE. As we as troublshooting the plot functions from the SPEAQeasy bootcamp code. I also advised taht she could create a volcano plot for her results. 2021-06-03 questions about expression_cut and pca plots We walked tought script from getRPKM to expression cut to filter rse objects, I also pointed Brenda towards some reasources to get started with ggplot 2021-06-17 Manhattan plot making and tstatistic Pointed her to some oacjages for creating TWAS plots whe was interested in and we walked through some code I used to compare T-stats from different DE models "],["maddy.html", "5 Maddy", " 5 Maddy Date Help request Notes 2020-10-28 customize dotdotdot to his data NA 2020-11-04 3D volume extraction in Matlab https://www.mathworks.com/matlabcentral/answers/636365-how-can-i-measure-volume-from-a-3d-image?s_tid=srchtitle 2020-11-19 data transfer from LIBD server to JHPCE to use rsync or scp, you need to have user account created on LIBD server (Bill can help create it) 2020-11-19 download matlab on local computer through JHU software portal NA 2020-12-01 how to connect to LIBD servers on windows and mac NA 2020-12-03 run dotdotdot pipeline local computer and cluster got through the Github vignettes thoroughly 2020-12-03 how to open matlab (GUI and command line) on JHPCE NA 2021-02-05 JHPCE ssh keypair set up We got Heena’s MAC registered for passwordless login to JHPCE 2021-02-05 dotdotdot parameter tuning for Ema’s rat RNAscope data NA 2021-02-12 download repository from github to cluster and run dotdotdot on cluster Used Amy’s rstats blogpost on git 2021-02-19 explaination of Owner/Group/Other permissions for files on JHPCe running chmod 2021-02-26 data transfer from LIBD server to JHPCE use rsync 2021-02-26 Submitting/debugging bash job for dotdotdot on cluster Debugging through the input/output file in logs 2021-03-05 image analysis on QuPath explore loading/saving/exporting options on Qupath 2021-03-06 resolve figure generation error in human rnascope script from dotdotdot fixed the github repo 2021-03-12 split histology images into respective capture areas ran her through an example, explained her the code on github repo (split.m is the main script) 2021-03-12 x-quartz installation edited the config file for setting up x-quartz 2021-03-17 visium image segmentation explaination of the functions VNS.m and refineVNS.m 2021-03-17 troubleshooting memory usage for VNS function from VisiumLIBD when running VNS.m for several files on same matlab session the data from previous sessions is saved in matlab cache memory automatically. This will cause memory issues with subsequent runs, its important to clear variables after every run. 2021-03-23 extracting p-values from linear mixed effect model for Calcium imaging data NA 2021-03-24 running nucleiCount for spatial DLPFC samples explaination of scale_factors.json, tissuepositions_list.csv from spaceranger and the spotspotcheck package 2021-03-30 steps to troubleshoot issues with stitched multi tile RNAscope images NA 2021-04-01 creating logs for issues from running SUFI (spectral unmixing of fluorescent biological images) explaination of nurolucida system, how number of cores and RAM matter for running SUFI 2021-04-09 Resolving issues with running dotdotdot on 20X RNAscope images NA 2021-04-09 runnning Hiplex registration NA 2021-04-15 running and trouble shooting VisiumIF image splitting code NA "],["nick.html", "6 Nick", " 6 Nick Date Help request Notes 2020-10-21 Question: Cannot Install gmapR Bioconductor Package BioC Support website answer 2020-10-26 Help running speakeasy on MARCC and JHPCE please NA 2020-10-28 Changing Row Names of MultiAssayExperiment Assay BioC Support website answer 2020-10-28 issue running spaceranger initial issue seemed to do with the spaceranger command arguments; we are continuining to investigate possible module issues or insufficient code in the blog post 2020-11-02 Help with SpaceRanger NA 2020-11-04 Extracting Sequences from Fasta Files with Rsamtools BioC Support website answer 2020-11-11 How does one modify a single value of a field in a seqinfo object? BioC Support website answer 2020-11-20 ChipQC ‘names’ attribute [9] must be the same length as the vector [2]’ BioC Support website answer 2020-12-02 Matching Variants Between Two VCF Objects BioC Support website answer 2020-12-09 Help with importing HDF5 file Used ‘h5ls’ command from shell to verify contents of file; eventually found we were looking at the wrong file (error message was cryptic about issue). https://jhu-genomics.slack.com/archives/CUYHWV7AA/p1607034309074800 2021-01-06 Correlation values from labeledHeatmap BioC Support website answer 2021-02-23 I need help with setting up Mobaexterm. Unable to open new terminals and folder permission issues I hadn’t encountered the issue with new local terminals failing to open. I planned to follow up with better specific advice via email, and offer to explain this advice in a future DSGS. 2021-02-25 I need help in: downloading data from SRA to JHPCE, running SPEAQeasy to create rse object (one session will likely not be enough). I explained how to use SPEAQeasy at JHPCE, and we tried an experimental method for downloading SRA data. The method didn’t work, and we plan to meet again after I verify a more typical method works. 2021-03-02 Clarification about how recent CMC data was processed with SPEAQeasy I explained that SPEAQeasy was used for the recent hg38 processing, and an older version of a similar pipeline was used for the original hg19 processing. We discussed our new method for retrieving gene symbols (\"org.*.eg.db\" packages) and some general code advice. 2021-03-02 Our group’s set-up and approach for writing papers with google docs, and managing citations I went through the setup and example usage of Sciwheel and cross reference, and gave general advice (it’s often easiest to start with the “Methods” section, etc) 2021-03-03 Advice for writing papers We discussed how Sciwheel can be adapted for different journals, and provided general advice for getting started and formatting a paper for a particular journal. 2021-03-10 qSVA explanation and code review Josh walked me through some code performing qSVA for a recent project, and I offered some tips involving code organization/ readibility. 2021-03-18 Download SRA data and run SPEAQeasy I fetched the SRA files, created a manifest and execution script for SPEAQeasy, but had an issue running “fastq-dump”. I decided to hand off the request, partially complete. 2021-03-22 Using an LIBD module I described the need for the “module use” command and modifying the .bashrc to easily use LIBD modules 2021-04-07 Nextflow overview for work with imputation pipeline I covered various nextflow concepts, as well as my typical approach in creating and running a nextflow project at JHPCE 2021-04-12 Running the old RNA-seq pipeline on some SRA data I showed my typical process for creating a “samples.manifest” file for a given dataset, and how to submit a pipeline run. We continued to debug some minor issues over slack 2021-04-19 Running SPEAQeasy Although we encountered permissions issues, I showed how to create a “samples.manifest” file and configure SPEAQeasy for a particular set of samples. 2021-04-22 Running SPEAQeasy We went through cloning SPEAQeasy, creating a “samples.manifest” file with R, and other relevant details for running SPEAQeasy at JHPCE. I also helped Henry set up git at JHPCE 2021-04-22 Running SPEAQeasy- follow up We troubleshooted strange errors from the main SPEAQeasy output, and saw that I was able to run the main script (“run_pipeline_jhpce.sh”) but Sreya encountered errors with an identical script. We suspected permissions issues in her working directory, which she emailed bitsupport about. 2021-04-26 Running SPEAQeasy- follow up We discussed how to handle strandness issues, and how different inferred strand patterns within a group of samples sequenced together can indicate problems with the input data. I described how to use the ‘–force_strand’ option with SPEAQeasy 2021-04-28 Constructing an array job from an existing sequential shell script I showed how I typically produce an array job shell script for the situation where I have many samples of data to process the same way (SIMD). We talked about using a text file where each line contains one sample name, and referencing that in the array script. 2021-05-03 Running SPEAQeasy- follow up We observed an issue where log parsing in SPEAQeasy behaved differently for Sreya and I due to a difference in default python version loaded at JHPCE. I fixed the hisat2/2.2.1 module to ensure consistent python version use. 2021-05-13 Setting up a SPEAQeasy run I described how I typically construct a “samples.manifest” file and configure SPEAQeasy for a particular experiment. 2021-05-19 Making a module We went through the creation of an LIBD JHPCE module, covering the documentation process, lua syntax, and how to test a module before pushing. 2021-05-19 Configuring a parallel series of bash scripts We adapted a series of bash scripts requiring parallel functionality for use at JHPCE. This involved correctly setting some path variables and requesting multiple cores through SGE for some scripts. 2021-06-16 addressing SPEAQeasy error we talked about how to use the “–strand” option, the source of the error that was encountered "]]
