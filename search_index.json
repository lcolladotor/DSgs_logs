[["index.html", "Data Science guidance session logs Overview DSgs-guides Graphs R session information", " Data Science guidance session logs Leonardo Collado-Torres Overview This website contains the public logs for the Data Science guidance sessions (DSgs). DSgs-guides Cynthia S. Cardinault Louise A. Huuki-Myers Madhavi Tippani Nicholas J. Eagles Former guides: Abby Spangler Arta Seyedian Joshua M. Stolz Graphs Below we see the number of DSgs sessions for each of the guides across time. You can mouse-over each point to see the data, or click on each guide’s name to hide/show their information. The data is filtered to show only active DSgs guides. As a team, this is the overall number of help requests we have completed over time grouped by day and year. These graphs are partially based on lcolladotor/mphtasessions and GitHub-style waffle plots in R. R session information Details on the R version used for making this book. The source code is available at lcolladotor/DSgs_logs. ## Packages used in the book library(&quot;ggplot2&quot;) library(&quot;lubridate&quot;) library(&quot;dplyr&quot;) library(&quot;plotly&quot;) library(&quot;here&quot;) ## Load the package at the top of your script library(&quot;sessioninfo&quot;) ## Reproducibility information print(&#39;Reproducibility information:&#39;) ## [1] &quot;Reproducibility information:&quot; Sys.time() ## [1] &quot;2024-03-26 14:52:59 UTC&quot; proc.time() ## user system elapsed ## 2.142 0.638 2.213 options(width = 120) session_info() ## ─ Session info ─────────────────────────────────────────────────────────────────────────────────────────────────────── ## setting value ## version R Under development (unstable) (2024-03-24 r86185) ## os Ubuntu 22.04.4 LTS ## system x86_64, linux-gnu ## ui X11 ## language (EN) ## collate en_US.UTF-8 ## ctype en_US.UTF-8 ## tz UTC ## date 2024-03-26 ## pandoc 3.1.1 @ /usr/local/bin/ (via rmarkdown) ## ## ─ Packages ─────────────────────────────────────────────────────────────────────────────────────────────────────────── ## package * version date (UTC) lib source ## bookdown 0.38 2024-03-04 [1] CRAN (R 4.4.0) ## bslib 0.6.2 2024-03-22 [2] CRAN (R 4.4.0) ## cachem 1.0.8 2023-05-01 [2] CRAN (R 4.4.0) ## cli 3.6.2 2023-12-11 [2] CRAN (R 4.4.0) ## colorspace 2.1-0 2023-01-23 [1] CRAN (R 4.4.0) ## crosstalk 1.2.1 2023-11-23 [1] CRAN (R 4.4.0) ## data.table 1.15.2 2024-02-29 [1] CRAN (R 4.4.0) ## digest 0.6.35 2024-03-11 [2] CRAN (R 4.4.0) ## dplyr * 1.1.4 2023-11-17 [1] CRAN (R 4.4.0) ## ellipsis 0.3.2 2021-04-29 [2] CRAN (R 4.4.0) ## evaluate 0.23 2023-11-01 [2] CRAN (R 4.4.0) ## fansi 1.0.6 2023-12-08 [2] CRAN (R 4.4.0) ## farver 2.1.1 2022-07-06 [1] CRAN (R 4.4.0) ## fastmap 1.1.1 2023-02-24 [2] CRAN (R 4.4.0) ## generics 0.1.3 2022-07-05 [1] CRAN (R 4.4.0) ## ggplot2 * 3.5.0 2024-02-23 [1] CRAN (R 4.4.0) ## glue 1.7.0 2024-01-09 [2] CRAN (R 4.4.0) ## gtable 0.3.4 2023-08-21 [1] CRAN (R 4.4.0) ## here * 1.0.1 2020-12-13 [1] CRAN (R 4.4.0) ## highr 0.10 2022-12-22 [2] CRAN (R 4.4.0) ## htmltools 0.5.7 2023-11-03 [2] CRAN (R 4.4.0) ## htmlwidgets 1.6.4 2023-12-06 [2] CRAN (R 4.4.0) ## httr 1.4.7 2023-08-15 [2] CRAN (R 4.4.0) ## jquerylib 0.1.4 2021-04-26 [2] CRAN (R 4.4.0) ## jsonlite 1.8.8 2023-12-04 [2] CRAN (R 4.4.0) ## knitr 1.45 2023-10-30 [2] CRAN (R 4.4.0) ## labeling 0.4.3 2023-08-29 [1] CRAN (R 4.4.0) ## lazyeval 0.2.2 2019-03-15 [1] CRAN (R 4.4.0) ## lifecycle 1.0.4 2023-11-07 [2] CRAN (R 4.4.0) ## lubridate * 1.9.3 2023-09-27 [1] CRAN (R 4.4.0) ## magrittr 2.0.3 2022-03-30 [2] CRAN (R 4.4.0) ## munsell 0.5.0 2018-06-12 [1] CRAN (R 4.4.0) ## pillar 1.9.0 2023-03-22 [2] CRAN (R 4.4.0) ## pkgconfig 2.0.3 2019-09-22 [2] CRAN (R 4.4.0) ## plotly * 4.10.4 2024-01-13 [1] CRAN (R 4.4.0) ## purrr 1.0.2 2023-08-10 [2] CRAN (R 4.4.0) ## R6 2.5.1 2021-08-19 [2] CRAN (R 4.4.0) ## RColorBrewer 1.1-3 2022-04-03 [1] CRAN (R 4.4.0) ## rlang 1.1.3 2024-01-10 [2] CRAN (R 4.4.0) ## rmarkdown 2.26 2024-03-05 [2] CRAN (R 4.4.0) ## rprojroot 2.0.4 2023-11-05 [2] CRAN (R 4.4.0) ## rstudioapi 0.16.0 2024-03-24 [2] CRAN (R 4.4.0) ## sass 0.4.9 2024-03-15 [2] CRAN (R 4.4.0) ## scales 1.3.0 2023-11-28 [1] CRAN (R 4.4.0) ## sessioninfo * 1.2.2 2021-12-06 [2] CRAN (R 4.4.0) ## tibble 3.2.1 2023-03-20 [2] CRAN (R 4.4.0) ## tidyr 1.3.1 2024-01-24 [1] CRAN (R 4.4.0) ## tidyselect 1.2.1 2024-03-11 [1] CRAN (R 4.4.0) ## timechange 0.3.0 2024-01-18 [1] CRAN (R 4.4.0) ## utf8 1.2.4 2023-10-22 [2] CRAN (R 4.4.0) ## vctrs 0.6.5 2023-12-01 [2] CRAN (R 4.4.0) ## viridisLite 0.4.2 2023-05-02 [1] CRAN (R 4.4.0) ## withr 3.0.0 2024-01-16 [2] CRAN (R 4.4.0) ## xfun 0.43 2024-03-25 [2] CRAN (R 4.4.0) ## yaml 2.3.8 2023-12-11 [2] CRAN (R 4.4.0) ## ## [1] /usr/local/lib/R/host-site-library ## [2] /usr/local/lib/R/site-library ## [3] /usr/local/lib/R/library ## ## ────────────────────────────────────────────────────────────────────────────────────────────────────────────────────── This book was last updated on 2024-03-26 14:52:59.417554. "],["abby.html", "1 Abby", " 1 Abby Date Help request Notes 2022-07-20 go over pseudobulk code We walked through the code to make a pseudobulked object and plotting the explanatory variables. 2022-06-29 Help troubleshooting error messge when running BayesSpace She was getting a memory error when running BayesSpace and I ended up advising her to reduce the nrep argument. Also advised her on running fasthplus because it was taking too long. She needed to reduce the proportion of the data being used. 2022-06-21 help with vis_grid_clus() she needed to have the plots as single ggplots instead of a list so I advised her to used vis_clus() instead. Shared code with her that I had used to make some of supplemental figures. She also asked if she need to discard spots before doing batch correction and I told her yes. 2022-06-15 Help troubleshooting shiny app that crashes on gene interactive tab checked size of the spe object. checked that only has low res image files. check dim of colData. All sizes checkedout. Believe this to be a package problem. 2022-06-15 getting total UMI’s for each sample Maddy asked me how to get the total UMI’s for each sample out of her spe object. I wrote a small for loop for her in order to do it. 2022-05-27 Help with BayesSpace clustering Assessed results of BayesSpace joint clustering and suggested that Alice discard the spots with low library sizes to improve clustering. Offered to create small SPE object for her with just the for samples she will be doing long read sequencing on. 2022-05-20 Subsetting spe object for shiny app created new script to subset spe object by removing some of the images. updated app.R to load smaller spe object (half the size) and re-ran shiny app locally. Explained how to version control from local computer and fixed problem with version controlling large data file. Still having same problem of not being able to view shiny app online 2022-05-17 VisiumIF DLPFC building spe Tried to troubleshoot adding visium IF images to spe object 2022-05-17 OneDrive Helped setup OneDrive folder for LC manuscript. Explained how to organize figure folders. 2022-05-10 Help Deploying Shiny App for DLPFC_IF Helped fix error of shiny app not being able to find spe object. Helped sucessfully deploy app. 2022-04-27 help with html output of spaceranger Helped explain the different parts of the html output of spaceranger and which fields are important to check for QC 2022-04-08 help with read10xVisiumWrapper() I helped Heena address an error she was getting when trying to run read10XVisiumWrapper(). We noted an issue with the function and submitted an github issue to spatialLIBD. We got the function to work but only if you provide the path to the gtf file. Met for 1hr. 2022-04-04 help with clustering portion of th build_spe modified code to work witth her dataset. did graph based clustering and plottiing. Explained benefits of clustering across samples. Advised her to do isoform calling on pseudobulked data for multiple samples. Met for 1hr. 2022-03-27 help with build_spe Finished installing packages. Set up sample_info table. Walked her through the rest of the code. 2022-03-18 set up git repo for long read project We set up a git repo and added code to be adapted to build an spe object from Alice’s long read data. 2022-03-17 Assistance with analyzing spatial data This was a preliminary meeting with Alice to decide where to begin with analyzing her spatial data. We decided to start by generating an spe object with her long read data. "],["arta.html", "2 Arta", " 2 Arta Date Help request Notes 2021-09-03 Discussion about rerunning FUSION/TWAS with new GWAS with extra attention paid to the number of samples for each brain region NA 2021-07-01 Running Genome Studio on n = 200, generating PLINK outputs NA 2021-06-21 TWAS questions cleared up some confusion about filter_snps.R 2021-06-15 FUSION / TWAS Walkthrough https://github.com/LieberInstitute/zandiHyde_bipolar_rnaseq/tree/master/dev_twas#bd-twas-workflow 2021-06-04 Havent got my mds yet so making the meeting for Friday N/A 2021-06-02 Using GenomeStudio Used GenomeStudio again to produce PLINK files 2021-04-28 Setting up FUSION / TWAS for practice I showed Sreya how to set up the S-TWAS directory that I adapted in the Zandi-Hyde bipolar project for her own adaptation. I also sent her some useful videos on how to set up GitHub with her JHPCE account and install an SFTP client for Ubuntu (I prefer Filezilla) 2021-04-20 Running FUSION / TWAS I gave Sreya a conceptual introduction to transcriptome imputation and sent her some resources to help her get started on FUSION / TWAS 2021-03-18 Attempted SPEAQeasy installation on MacOS Failed MacOS installation on Lieber MacBook, something about Java both being and also not being installed 2020-12-03 Inline formula throwing an error for interaction term RStudio Community self-answer 2020-11-23 Ran Genome Studio, installed PLINK input plugin There is a plugin for Genome Studio by Illumina that allows users to output their imputed allele results as PLINK inputs 2020-11-12 RDavid Error I recommended that they reach out to their forum board 2020-10-21 copy number variation analysis (CNV) BioC Support website answer "],["cynthia.html", "3 Cynthia", " 3 Cynthia Date Help request Notes 2024-03-25 Cell Ranger-ARC html report I explained in detail the metrics reported by cellranger arc and helped you download a multiome public sample to run the pipeline. 2024-03-22 GEX and ATAC clustering I explained the previous steps to perform clustering with GEX and ATAC 10x multiome data using Seurat and Signac. 2024-02-07 Discuss Seurat, cell type markers, DE I showed him to the 2 approaches available in Seurat to perform DGE, including the FindMarkers() function to find the genes that are different between control and treatments. I also show him code to perform quality controls in the main covariates related with these data-type. I shared with him consulted resources and links with public-code for his reference. 2023-04-10 Feedback the SmokingMouse Project websites Project links reviewed: http://research.libd.org/smokingMouse/ and http://research.libd.org/smokingMouse/articles/smokingMouse.html 2023-04-06 Alternatives for RNA-seq analysis without replicates Website tools to look for public rna-seq samples &amp; packages to make synthetic replicates as shown here. 2023-03-22 Introduction to CellRanger RNAseq ATAC analysis We reviewed the overflow to analyse RNA-Seq and ATAC data with the Seurat and Signac tools. I provided learning resources, such as data file organization, funtions and methos available in the tools. I also provided a complete explanation about QC for preprocessing data integrated. "],["hedia.html", "4 Hedia", " 4 Hedia Date Help request Notes 2023-04-12 code review I discussed with Renee the way I code and showed her some examples and gave her a few coding advices. 2023-03-31 Using the qsvaR with the new annotation We discussed the use of qsvaR. For now the qsvaR only use the Gencode25 annotation. We also commented on the steps needed in case we want to implement the package for the more updated annotation versions in the future. 2023-03-23 seurat + signac We discussed each step of the pipeline and the outputs. We also had a look at the QC metrics and the code that Cynthia added to the script. 2023-03-21 Understanding API authentication We went through the https://github.com/HediaTnani/Int_API_R. Then we saw other API examples with authentication (github, ….). 2023-03-21 the user asked how to change the dot size in the plot_pca( ) Issue and the solution found here https://support.bioconductor.org/p/9150363/#9150404 2023-03-02 Understanding the template project repository With Cynthia we saw the differents folders that are part of the template project repository and how to organize your project repository. 2023-01-25 Nextflow with Conda and Github actions We discussed how to implement github actions with Nextflow workflow and the use of Conda and/or Docker containers. 2023-01-18 Making custom R script work with Netxflow We (Me + Nick) discussed with Sean the basics of Nextflow and Nextflow DSL2 and how to make processes and channels and workflows. We gave him resources to read and gave him small examplesto follow. We helped him also with his errors on slack. "],["josh.html", "5 Josh", " 5 Josh Date Help request Notes 2022-04-04 using toptable and duplicate correlation Able to identify situation where duplicate.correlation should be used and how block data is important to linear modeling. We then looked at how top table can be used to summarize DE outputs. 2022-03-02 Work through qsvaR vignette together Heena was encountering a simple error installing the package. We also spent time going through the vignette to give a conceptual overview of qsva. Her feedback will be helpful in making the vignette more accessible 2021-07-28 DNA genotyping overview ibidem 2021-06-16 got mds score for the vcf she presented using plink we discussed what a bfile is in plink and that made the process much easier. 2021-06-10 mds for vcfs still working on this will touch base again, we are trying to obtain the mds plot for ancestry in the placental data. 2021-06-05 checking plots and data structure in clusterprofiler the way we had run cluster profiler was generating lists in a way that the plot functions could not work with 2021-06-01 gene ontology for genesets run clusterprofiler on a set of DE hits 2021-05-14 questions about processing genotype data explained the process of using topmed imputation and later we will get the mds 2021-03-26 help doing a power analysis for RNA-seq data sent him the scripts from andrew, wondering if I should make it into a function 2021-03-16 get effect size for calcium imaging reffered to package “effsize” should be efficient at easily doing this 2020-10-28 Learning Lexical Scoping Rules NA "],["leo.html", "6 Leo", " 6 Leo Date Help request Notes 2024-03-25 LIBD Data Portal for BSP1 and BSP2 DLPFC SCZD vs NTC data I explained that BSP1 is polyA, aligned vs hg19, older annotation, aligned with TopHat2 (an older aligner). BSP2 is RiboZeroGold for DLPFC and RiboZeroHMR for HIPPO (with 43 RiboZeroGold samples that were dropped from the DE analysis), aligned vs hg38, against Gencode v25 (from July 2016), aligned with HISAT2. I also explained the naming structure of a Supplementary Table for BSP1’s paper where adj, qSVA, and PCA are labels specifying whether it was a model adjusting for covariates, whether it adjusts for qSVs using qSVA (the better model to use), or adjusting for gene-level expression PCs (PCA). These names are related to the qSVA 2017 paper Figure 2. I also explained how in the BSP2 paper we did re-align the BSP1 data against hg38, though there is no Supplementary Table showing which of the 243 DLPFC DEGs replicated in BSP1 (though the data does exist since it was used to make Figure S28 and S29). We would need another DSgs or two to actually locate the data and construct an CSV file or table that others can use if they are interested in replication of BSP2 results using BSP1 and/or CommonMind Consortium (CMC) Phase 1 data (that was aligned vs hg19 with TopHat2). I also used this slide to explain all the pieces that go into a DEG model and why the visualizations provided by the LIBD Data Portal (boxplots for SCZD vs NTC) are just a visual guide using normalized gene expression data and not the full answer (as the LIBD Data Portal doesn’t use the full details we include in a DEG model). 2024-03-22 Polishing details on how to ask for help effectively We disscussed specific details on how to ask for help. For example, it’s ok to ask those around you in person but you should also ask on the #libd_helpdesk channel (and update the channel if someone else gave you an answer). That is, don’t assume that only those around you (in person) know the answer. We went over details on how to preview GitHub messages (to verify that they are correctly formatted), why GitHub issues are useful to the authors, what information is needed for others to help you answer a question (R session info, reprex::reprex() output, link to code on a public GitHub repo; private is ok when asking internally for help). We also discussed the overall idea of why learning how to make an R package will be useful to then improve one’s tooltik for debugging R packages made by others. 2024-03-20 Cg_Hb_projector_profiling progress update We went over how to update a GitHub remote following information from the documentation, finishing stylistic design touches on an iSEE app, and setting up a new repository for the next project. 2024-03-20 Overview of use cases for JHPCE disk usage data over time We discussed details of the use cases I have in mind for how to search and visualize the JHPCE disk usage data over time and across different JHPCE paths. This information could be useful in forecasting data growth for individual PIs or projects, identifying who has exceeded their storage allocation, identifying static projects that could potentially can be moved off JHPCE / deleted / or moved to non-production disk space. 2024-03-19 snRNA-seq data analysis steps overview We discussed the general overview of snRNA-seq data analysis steps and how the code at Habenula_Pilot could be a good starting place. I also recommended signing up for a Data Science guidance session with Louise as she is quite familiar with the code in that repository prior to diving into it. 2024-03-19 Cloud computing vs JHPCE I explained details about how data is organized at JHPCE, data sharing limitations, and several suggestions we have been working on that could be useful to implement at a larger scale across LIBD teams. 2024-03-15 Advice prior to a faculty interview Discussed collaborations, personalities, and other details of the work environment with some of our collaborators with whom this person was going to interview for a job with. 2024-03-14 Derive code for how to merge ERCCsumLogErr values across sequencing lanes for a given sample See https://jhu-genomics.slack.com/archives/C018ZDB8QLU/p1710454284251579 for the full code details. We might add this to solution to https://github.com/LieberInstitute/jaffelab/blob/devel/R/merge_rse_metrics.R, although it’s only an approximation as you need to go back to the raw ERCC output files (typically generated with kallisto) to actually compute the ERCCsumLogErr accurately across different sequencing lanes for a given sample. 2024-03-14 Help identifying differences between two RSE objects containing data from the same project We have RSE objects from the LIBD Data Portal (or those that helped build that portal) as well as RSE objects made prior to the LIBD Data Portal. They have some differences, mostly on the colData() slot. Note how https://github.com/LieberInstitute/jaffelab/blob/21e65745a5b0852fc13ebdb5e5d23c6f1f66010b/R/merge_rse_metrics.R#L83-L97 and related code merges colData() information for samples that were sequenced in more than one lane and whose FASTQ files were not merged prior to aligning with SPEAQeasy. 2024-03-12 spatialDLPFC and deconvolution-benchmark project details on how snRNA-seq data was used for each of them I explained details about the spatialDLPFC and deconvolution-benchmark papers. I also went over how we addressed feedback from the editors for the spatialDLPFC paper. 2024-03-07 Grant related discussion We discussed how to address feedback from a recent grant application, how our teams can get to know each other better, cleared up misunderstandings related to my team’s role as well as the DSgs system, and decided next steps to respond to the grant reviewers. 2024-03-05 Cg_Hb_projector_profiling progress update We discussed more details about iSEE and shinyapps.io deployment details, such as memory settings and other configuration needed to actually customize and share an iSEE app. We also asked our collaborator for the list of genes they want to have plotted outside of iSEE. 2024-03-01 Feedback on the nascentRNA project I sent a long and detailed email explaining different components of the LIBD BrainSEQ projects, background information on several covariates we typically have used in DEG models such as RIN and age at time of death, as well as other ones we have not used such as postmortem interval (PMI). I also explained the DSgs system and how it could be used by our JHU collaborators. 2024-02-28 How to extract normalized expression values with limma We went over internal code from the limma package using https://code.bioconductor.org/, particularly for the voom() function. Doing so, we discussed that’s actually returned in the voom()$E slot. We also went over how to model a ratio using a linear regression model. 2024-02-26 Prospective JHU PhD student We went topics such as live in Baltimore, research at JHU, overview of the different JHU campi, how to compare PhD programs across universities, and other questions this future PhD student had. 2024-02-23 Cg_Hb_projector_profiling progress update Discussed feedback from collaborators and detailed next steps to wrap up this project. 2024-02-16 Cg_Hb_projector_profiling progress update Went over recent updated plots and results, as well as slides for a presentation with our collaborators for 2024-02-21. 2024-02-16 qsvaR bug report resolution We discussed the updates implemented in qsvaR to handle input with ENSEMBL transcript IDs instead of GENCODE ones, updates to automatically detect if the input is at the gene level instead of the transcript level, how to check for correlation between qSVs and covariates, among other related issues. 2024-02-08 Cg_Hb_projector_profiling progress update Discussed updates to violing plots and how to organize result files prior to sharing them with our collaborators. 2024-01-29 Career development Caught up and talked about career development next steps. 2024-01-25 Permutation analysis Went over the details of how to compute a permutation analysis with R. 2024-01-24 Review response to qsvaR bug report from last year Clarified updated automatic checks and information for users who attempt to use qsvaR with gene-level data instead of transcript-level data. 2024-01-11 Reviewing updates to the qsvaR package We checked udpates to the getDegTx() and DEqual() functions, as well as discussed the response to a bug report from last year. 2023-12-01 JHPCE R modules I explained the different modules such as module load conda_R/4.3.x versus conda_R/4.3, how each is tied to a different version of Bioconductor. I also linked to https://youtu.be/D6t2GR7xaTE and https://docs.google.com/document/d/1DD9MUI2e3jp5S8C3PWRulZ4jwbXo94D3UTCQNJl_-Qo/edit?usp=sharing from the LIBD rstats club. 2023-11-29 CV writing advice Provided feedback on CV writing for data science job applications. 2023-11-16 Cg_Hb_projector_profiling progress update We discussed the GLM-PCA paper and decided to use GLM-PCA instead of logcounts by quickCluster() + calculateSumFactors() as described at the CDSB 2021 snRNA-seq workshop. We also discussed the development version of Harmony, in particular with the lambda = NULL setting. 2023-11-16 Review how to respond to a user’s bug report We went over how to build a reprex for a user’s bug report, how to simplify the process of debugging, and the actual results from this particular bug report. We also discussed how to relay this information back to the person who initially asked the question. 2023-11-15 Job application support I provided background information on a job ad from a colleague at Boston’s Children Hospital that I had shared. I also provided suggestions for preparing their GitHub account, CV, and other information useful for job interviewers. 2023-11-08 Job application support I provided background information on a job ad from a colleague at FHCRC that I had shared. 2023-11-08 Cg_Hb_projector_profiling progress update I gave feedback on scripts, how to organize them, the order of some analytical steps, which gene annotation files to use, and things like that. We don’t have results on the QC steps to share just yet. 2023-11-03 Review replication analysis R script Continued reviewing qsvaR replication analysis code. 2023-11-01 Cg_Hb_projector_profiling project overview Detailed analysis steps for this project using snRNA-seq data and analyzing it following OSCA-based steps from the CDSB 2021 snRNA-seq workshop. 2023-11-01 Review Visium SPG AD blog post Reviewed draft blog post on the Visium SPG AD project and published it at https://research.libd.org/rstatsclub/2023/11/01/our-first-adventure-with-visium-spatial-proteogenomics/. 2023-10-27 Interaction modeling with limma-voom Explained how interaction models work with limma-voom. 2023-10-27 snRNA-seq OSCA-based analysis Ibidem to 2023-09-29 session. 2023-10-26 Review replication analysis R script Reviewed this script for the replication analysis performed as part of the qsvaR project. 2023-10-26 Debugging a ranger_metrics R script Paired programming session to debug /dcs04/lieber/lcolladotor/with10x_LIBD001/ranger_metrics/code/spaceranger/03_merged_metrics/02_explore_metrics.R. Further explained the original intent of the code in this script and steps for updating it. 2023-10-20 Review replication analysis scripts for the qsvaR project Reviewed some scripts related to replication analyses. I explained the different thresholds used on the discovery as well as the target datasets, as well as the different levels for assessing replication. 2023-10-18 snRNA-seq OSCA-based analysis Ibidem to 2023-09-29 session. 2023-10-12 qsvaR paper planning We went over the changes needed to take the current qsvaR paper draft by Josh Stolz to a production-level result (aka for pre-printing / publishing it). 2023-10-06 snRNA-seq OSCA-based analysis Ibidem to 2023-09-29 session. 2023-09-29 snRNA-seq OSCA-based analysis We continued working with the OSCA-based CDSB 2021 intro to snRNA-seq workshop to further understand snRNA-seq data analysis steps, packages, and how they all relate to each other. The person who requested this DSgs was working on the workshop contents and had questions that we reviewed weekly (or so). Once they completed this OSCA-based training, we moved to analyzing an actual unpublished snRNA-seq dataset. 2023-09-27 Onboarding questions for a snRNA-seq dataset We went over the background for this project (lateral septum) and an overview of the DSgs system, GitHub setup, and other onboarding material. 2023-09-22 snRNA-seq training Resolved some questions related to https://github.com/ComunidadBioInfo/cdsb2021_scRNAseq and made two pull requests to fix typos. 2023-09-22 How to interpret terms on an interaction model We went over the math derivations for interpreting beta1, beta2, and beta3 on an interaction model where X1 is a continuous variable, X2 is a discrete variable with 2 options and we model Y ~ X1 * X2. We also used ExploreModelMatrix. 2023-09-21 Guidance on expression heatmaps I explained the benefits of centering and scaling and referred to both the short video on this topic https://youtu.be/c8ffeFVUzk8 as well as the material we developed for the CSHL 2023 course https://lcolladotor.github.io/cshl_rstats_genome_scale_2023/expression-heatmaps-with-complexheatmap.html. 2023-09-14 snRNA-seq training Continued reviewing material from https://github.com/ComunidadBioInfo/cdsb2021_scRNAseq 2023-09-13 Social media ideas Discussed a few ideas about LIBD and social media 2023-08-21 snRNA-seq training Answered questions related to material at https://github.com/ComunidadBioInfo/cdsb2021_scRNAseq 2023-08-18 ranger_metrics We talked about the first scripts in https://github.com/LieberInstitute/ranger_metrics 2023-08-14 Getting started with snRNA-seq We talked about material at https://github.com/ComunidadBioInfo/cdsb2021_scRNAseq 2023-08-10 Introduction to what we do as a team and future plans We talked about how I became an Investigator at LIBD, the overall type of work we do as a team, some of our main collaborations, and overall plans for applying for funding in the future. In particular, I highlighted how I want to train team members on how to write an NIH biosketch, though not all are going to be “key personnel”. I sent a link to the DSgs, team meeting schedule, rstats club schedule, and our http://lcolladotor.github.io/talk/teamtldr2022/ summary from April 20, 2022. 2023-07-27 Guidance on reference data for deconvolution and snRNA-seq analysis For deconvolution, we talked about finding an appropriate reference dataset and we talked about an expert we can contact to ask which dataset(s) might be the most relevant. For snRNA-seq data analysis, I mentioned OSCA (Orchestrating Single Cell Analysis with Bioconductor) and how Louise could help guide this person on our code based off OSCA through a series of DSgs sessions. 2023-07-27 Feedback on an R package + GO/KEGG enrichment analyses We transferred https://github.com/LieberInstitute/qsvaRPkgDemo to the LieberInstitute account. I asked to include some citations for sources (like the image source) and some other small edits. For GO / KEGG enrichment with clusterProfiler I asked to not filter results (pvalueCutoff / qvalueCutoff parameters), so we can see more results prior to choosing which ones to plot. 2023-07-26 Evaluate a potential external contractor We discussed the current status of the team, the project, what skills are required, boundaries in terms of time and who would be involved (and who wouldn’t). We ended the session with me relaying a list of resources to check and read more carefully. Then in about 2 weeks we’ll meet again to determine the next steps. 2023-07-26 How to best document what skills I can perform or need to learn We made a Google sheet with columns such as study_type, skill_name, learning_priority, etc. I also worked on it after the DSgs session to help complete the current information. See Slack for more details. 2023-07-26 Need help debugging iSEE app errors/warnings We resolved this issue by making sure that the variable names for which they wanted to specify the correct colors were actually part of the colData(SE). See Slack for the actual code links. I also asked them to make sure to use soft links / full paths instead of using setwd() for files outside the project + to keep all related files at JHPCE instead of on a laptop, to make it easier to rule out any sources of differences (aka for reproducibility purposes). 2023-07-20 Input on a course design We discussed what would be the appropriate material for us to teach in a course. We will re-use some of our materials from https://github.com/lcolladotor/cshl_rstats_genome_scale_2023. 2023-07-20 Feedback on responding to reviewers We went over the proposed response to reviewers, clarified some sentences, and requested co-authors to approve the response to the reviewers. 2023-06-29 How to make a project documentation website We adapted code from https://github.com/LieberInstitute/spatialDLPFC/blob/main/code/update_website.R and https://github.com/LieberInstitute/spatialDLPFC/blob/main/README.Rmd in order to make the files at https://github.com/LieberInstitute/septum_lateral. See https://github.com/LieberInstitute/septum_lateral/commits/main from https://github.com/LieberInstitute/septum_lateral/commit/dda5822c0f74c1d143e317c211650a042c274f50 to https://github.com/LieberInstitute/septum_lateral/commit/230568af106ac9c75cd0045e76b762cdcc31cf4c as well as related commits on the gh-pages branch. 2023-06-28 clusterProfiler, set.seed, and BiocParallel questions Summarized at https://jhu-genomics.slack.com/archives/C018ZDB8QLU/p1687982732826659. This involved explaining why we don’t use as a background universe all genes in the annotation in gene ontology / KEGG pathway enrichment analyses. Instead, we use those that pass the expression filters and for which we computed differential expression statistics. 2023-06-28 Resolving a permissions issue We resolved https://jhu-genomics.slack.com/archives/C02RG5VGL6R/p1687803353217199 at https://jhu-genomics.slack.com/archives/C02RG5VGL6R/p1687984850054149?thread_ts=1687803353.217199&amp;cid=C02RG5VGL6R, which was due to a user incorrectly having a Linux group assigned to files at JHPCE when they are not part of the user group. Uploads through Cyberduck can trigger this. The solution is to run https://lcolladotor.github.io/bioc_team_ds/organizing-your-work.html#spatialteam-example again on a qrsh session. 2023-06-27 How to make dynamic error messages We worked on qsvaR debugging an issue raised by Renee and Louise. We then improved the error messages on qsvaR as noted at https://github.com/LieberInstitute/qsvaR/commit/feb9a9e4f8a499baba76271de37ca39a9969f400. 2023-06-23 How to make a new Globus endpoint for a publication. Using the septum lateral data, I trained Ryan on how to make this type of Globus endpoint, how to set up the right permissions, how to edit and update http://research.libd.org/globus/ (see this for details), and how to document the Globus information on a manuscript. 2023-06-22 How to filter an SCE object prior to making an iSEE app Using the lateral septum snRNA-seq data, I trained Heena on how to filter a SingleCellExperiment object to reduce the required memory from 7GB to less than 1GB in order to be able to deploy an iSEE app at shinyapps.io, whose computers have a maximum of 8 GB of RAM. See https://github.com/LieberInstitute/septum_lateral/commit/e6c5d0099e128b909dcf467d46b4f7f172820f98 and related commits. 2023-06-21 How to debug an R package function from a user’s report We worked with the script where Renee had noticed issues with qsvaR. We adapted it to work on qsvaR local updates through devtools::load_all(). We also resolved https://github.com/LieberInstitute/qsvaR/issues/29 and https://github.com/LieberInstitute/qsvaR/issues/28. 2023-06-08 Options for cell type specific eQTLs Discussed how to best pseudobulk the data prior to doing this type of analysis. In particular, how to adapt https://github.com/LieberInstitute/spatialLIBD/blob/edc8b72505af097895dcbf35887df28da8122e3c/R/registration_pseudobulk.R#L135-L148 and related code, as well as plots to make such as boxplots of the min_ncells by cell type (without any filtering) and cutoffs found by isOutlier() (different cutoff for each cell type) + PCA plots colored by min_ncells. 2023-06-08 Overview of what we do as a team and outreach options Discussed a few different areas of growth, including a change in direction related to our outreach activities. 2023-03-13 Updating spatialLIBD::read10xVisiumAnalysis See https://jhu-genomics.slack.com/archives/C02TV4F1MCM/p1678716129409099 for more. Led to https://github.com/LieberInstitute/spatialLIBD/commit/97b852686515a271f4db3e185a9a9180a09a5db6 and related commits. spatialLIBD version 1.11.10 now supports spaceranger version 2023.0208.0 output files. 2023-03-13 Verify GitHub ssh key setup and team overview We used https://docs.github.com/en/authentication/connecting-to-github-with-ssh/testing-your-ssh-connection and also went over the JHPCE and R config files from the team website. We also talked about the DSgs and how it would be beneficial for Kinnary to meet 1 on 1 with all DSgs guides to build familiarity and make it easier to ask for help in the future. 2023-03-10 Debugging spatialLIBD::read10xVisiumAnalysis See https://jhu-genomics.slack.com/archives/C02TV4F1MCM/p1678466684480179 for more details. Heena is working with spaceranger output files from 2 different versions, and in particular, version 2023.0208.0 (internal 10x Genomics version) changed their output files structure 2023-03-09 Overview on “R/Bioconductor-powered Team Data Science” Described what we do, the DSgs system, potential for visitors at our team meeting, and research ideas. 2023-03-02 Help resolve JHPCE permission issues on the lifespan_hpc_spatial project The solution involved asking BitSupport to login as a specific user and run https://lcolladotor.github.io/bioc_team_ds/organizing-your-work.html#spatialteam-example. Knowing the exact file paths that triggered the permission issues are important to help check with ls -lh and nfs4_getfacl under a qrsh session. 2023-03-02 Debug spaceranger 2023.0208.0 (likely an alpha for 2.0.1) with SpatialExperiment 1.8.0 See the Bioconductor Slack message I wrote for more details. 2023-03-02 How to write a tweetorial End result: https://twitter.com/HeenaDivecha/status/1631360771342098433 2023-03-02 read10xVisium() in version 1.7.1 (and now 1.8.0) creates a dangerous silent error by mismatching tissue positions across multiple samples See https://github.com/drighelli/SpatialExperiment/issues/135 and the pull request at https://github.com/drighelli/SpatialExperiment/pull/136 that resolves this issue. 2023-02-28 How to write a tweetorial No public result just yet. 2023-01-11 Getting started with snRNA-seq See Slack notes for further details. They involved https://github.com/LieberInstitute/template_project, https://drive.google.com/drive/folders/1cn5d-Ey7-kkMiex8-74qxvxtCQT6o72h, and other specific instructions for setting up a project. 2022-11-01 Introduction to LIBD and our team https://lcolladotor.github.io/bioc_team_ds for my team website, https://docs.google.com/spreadsheets/d/1is8dZSd0FZ9Qi1Zvq1uRhm-P1McnJRd_zxdAfCRoMfA/edit?usp=sharing for the LIBD rstats club schedule, https://lcolladotor.github.io/bioc_team_ds/rbioconductor-data-science-bootcamps.html#bootcamp-source-materials could be of interest also, https://github.com/LieberInstitute/template_project for a template for organizing projects, learn about the DSgs https://lcolladotor.github.io/bioc_team_ds/data-science-guidance-sessions.html#.Y2GXx-zMJqs, https://rstudio.github.io/reticulate/ for using Python from R 2022-09-29 Overview on using GitHub for Matlab projects We talked about https://github.com/LieberInstitute/template_project, https://hopstat.wordpress.com/2013/11/05/array-and-sequential-cluster-jobs/, http://research.libd.org/sgejobs/reference/job_single.html, https://github.com/LieberInstitute/template_project/blob/3987e7f307611b2bcf657d1aa6930e76c4cc2b9a/code/02_explore_data/01_ggpairs.sh#L7, https://lcolladotor.github.io/bioc_team_ds/organizing-your-work.html#.YzWxq-zMKX1, https://happygitwithr.com/, https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent. 2022-09-23 Introduction to DSgs, R, Bioconductor, JHPCE LIBD rstats club schedule https://docs.google.com/spreadsheets/d/1is8dZSd0FZ9Qi1Zvq1uRhm-P1McnJRd_zxdAfCRoMfA/edit?usp=sharing. Bioconductor overview video https://youtu.be/c0Ch_sXiGDQ and related notes in case you want to skim them https://docs.google.com/document/d/1VZ4dOesHjbWhrvSIXO8Ne1Qk4ZdGEhAySNviZOHPqjI/edit?usp=sharing (we typically have this for each video entry). R and RStudio intro https://youtu.be/XTuJ8vGnzBU. Example vignette https://bioconductor.org/packages/release/data/experiment/vignettes/spatialLIBD/inst/doc/spatialLIBD.html from https://bioconductor.org/packages/spatialLIBD/. Data Science guidance sessions https://lcolladotor.github.io/bioc_team_ds/data-science-guidance-sessions.html#.Yy3s3ezMKX0. JHPCE new user request https://jhpce.jhu.edu/register/user/. Making your personal website with postcards https://youtu.be/9LUCZAx3SlU. Examples include https://lahuuki.github.io/ by Louise, https://jtleek.com/, http://aejaffe.com/. 2022-09-06 How to organize OneDrive files Related to how we organize files for a publication. 2022-08-24 How can I interpret the y-axis from plotExplanatoryVariables()? Density is related to the probability density function, see wiki more details. This link is also useful for understanding the y-axis in more detail. Violin plots are just density plots rotated 90 degrees and mirrored. They are compared against boxplots frequently, which while easier to understand, are not good for non-unimodal data. See this link for more. I like plotExplanatoryVariables() because it’s fast to run and gives a general idea of things. See Figure 1b from variancePartition for a violin plot of similar data. variancePartition can handle mixed effects models (random effects) and in that scenario is more precise, but will also take longer to compute. 2022-08-17 DE analysis introduction Check EnchancedVolcano which shows a quick DE guide and finishes with some Volcano plots, which can be good enough for a grant application. If you want to use limma, you could follow the SPEAQeasy example or our DE bootcamp a bit. Or dive deeper into limma’s documentation. 2022-07-19 Help with spatialLIBD colors setup Note that spe$var_colors works for spe$var where the var part has to be the same in both variable names. Also spe$var_colors should be a named vector such that unique(names(spe$var_colors)) matches unique(spe$var). 2022-07-15 R, RStudio, git, SSH key setup NA 2022-07-12 LIBD Data Science NA 2022-07-06 Data science coordination NA 2022-06-03 Tools and resources related to recount2 and recount3 Talked about recount2, recount3, snaptron, snapcount, recount.bwtool, recount-brain, recount predictions, megadepth, the recount3 study explorer. I also sent them all the links to them, though you can find many of them at https://jhubiostatistics.shinyapps.io/recount/, https://jhubiostatistics.shinyapps.io/recount-brain/, and http://rna.recount.bio/. 2022-05-27 Debug spatialLIBD::sig_genes_extract_all(). This had already been fixed, but Abby had an older version of spatialLIBD installed. We also went over some other steps needed to deploy an spatialLIBD app with pseudo-bulked data and modeling results. 2022-05-27 How to debug an R package code Resulted in a fix for this issue. 2022-05-27 Data science organization. Brainstorming and planning session. 2022-05-25 MatLab questions. Resolved via email. 2022-05-20 Brainomics meeting with collaborators Review of statistical models as well as access to data 2022-05-18 Discussion on how to recruit members Twitter, LinkedIn, jobRxiv 2022-05-17 BrainSeq Phase II development browser Clarified what the data is showing and explained a bit the goals of the LIBD data portal that Geo Pertea is building. 2022-05-06 Career development PhD programs and other options. 2022-05-03 How to make a tweetorial for a pre-print See this Twitter thread for the result. 2022-04-29 File organization for a paper submission Provided guidance on how to share images and how to organize supplementary files. Resulting in this Figshare zip file. 2022-04-28 In promptu meeting NA 2022-04-27 Grant proposal feedback NA 2022-04-21 CV feedback NA 2022-04-20 Cover letter feedback NA 2022-04-15 Debugged code from https://github.com/LieberInstitute/spatialLIBD/issues/33 See https://github.com/LieberInstitute/spatialLIBD/issues/33#issuecomment-1100169012. 2022-04-15 Brainomics meeting with collaborators Clarified a few questions about LIBD’s SPEAQeasy RSE objects and a problem with some colData() that was missing, that we’ll provide early next week. Send links to our deconvolution work with Louise A Huuki-Myers. 2022-04-08 How to delete large files from GitHub history If the situation had been simple, that is, that the latest commit was the one that commited the large files, we could have used the solution described at http://lcolladotor.github.io/2020/03/18/you-just-committed-a-large-file-and-can-t-push-to-github/. Instead, we had to use https://rtyley.github.io/bfg-repo-cleaner/. 2022-04-08 macOS and JHPCE laptop set JHPCE ssh keys (to avoid typing passwords when using qrsh), .Rprofile (both), .bashrc, .zshrc (laptop), iTerm2 (laptop), Textmate (laptop), remote port fowading for rmate, xquartz (laptop) installation and configuration. There are several LIBD rstats club videos on these topics already, but we just did all the setup fast. In particular, the .bashrc configuration was important to resolve a umask setting problem that was interfering with the permissions on the Visium IF AD project. 2022-04-06 Debugging JHPCE configuration files See this Slack thread. Ultimately, this situation involved teaching Tony to share his code. 2022-03-18 The authenticity of host ‘github.com’ I explained how the first time that you ssh into a new computer (which happens also with git pull/git push), you need to accept that the new host is authentic, which will then edit your ~/.ssh/known_hosts file. 2022-03-16 Plan how to make spatial registration R functions This is challenging since it involves putting together code from multiple scripts/projects. We summarized the steps to do on this GitHub issue thread. 2022-03-15 Clarifying what role deconvolution can play on LCM-seq Louise and I discussed the Dentate Gyrus, Jaffe at al, 2020 paper which used LCM-seq, what deconvolution using Bisque can do, and what role it can play at different analytical stages. 2022-03-11 How to log in to JHU-controlled laptop We had some trouble logging in because the WiFi wasn’t working without logging in. We solved this by using an ethernet cable at LIBD (which is part of the JHU network). Once we logged in once, then we could use the WiFi. 2022-03-04 How to guide others learning DS I described different strateguies for helping others navigate the world of data science. In particular, how weekly coding sessions can be really useful. 2022-03-04 “Megadepth usage to add a new annotation to hg38 file” Created an R script that reads in the transcripts FASTA file from GENCODE and uses BSgenome from Bioconductor to edit it and save it as a larger .fasta.gz file. Nick Eagles helped us by pointing us to http://research.libd.org/SPEAQeasy/annotation.html#custom-annotation. 2022-03-03 How to build a cov_rse object using qSVA v1 Linked to https://github.com/LieberInstitute/qsva_brain/blob/master/brainseq_phase2_qsv/quantify_top1000.R#L13, /dcs04/lieber/lcolladotor/qSVA_LIBD3080/degradation_experiments/*/bed, https://github.com/LieberInstitute/SPEAQeasy/blob/master/main.nf#L1774-L1855, https://github.com/LieberInstitute/RNAseq-pipeline/blob/master/sh/step5-coverage.sh, https://github.com/LieberInstitute/qsva_brain/blob/master/brainseq_phase2_qsv/quantify_top1000.R#L3-L50, https://github.com/LieberInstitute/qsva_brain/blob/master/brainseq_phase2_qsv/quantify_top1000.R#L5, https://github.com/LieberInstitute/recount.bwtool/blob/master/R/coverage_bwtool.R, https://github.com/LieberInstitute/megadepth/blob/master/R/read_coverage.R, https://github.com/LieberInstitute/recount.bwtool/blob/master/R/coverage_matrix_bwtool.R#L227-L253, https://github.com/CRG-Barcelona/bwtool/wiki#installation, http://lcolladotor.github.io/derfinder/reference/getRegionCoverage.html, and http://research.libd.org/qsvaR/. Andrew Jaffe linked /users/ajaffe/Lieber/Projects/RNAseq/SzControl_DE_paper/rdas/degradation_mat_CMC_ribozero.rda, /users/ajaffe/Lieber/Projects/RNAseq/SzControl_DE_paper/run_de_analysis_CMC.R, /users/ajaffe/Lieber/Projects/RNAseq/SzControl_DE_paper/rdas/geneLevel_CMC_qSVsAndMod.rda and /users/ajaffe/Lieber/Projects/RNAseq/CMC/. 2022-03-03 Debradation matrix for LIBD riboZ Linked to https://github.com/LieberInstitute/qsvaR, http://research.libd.org/rstatsclub/2018/12/11/quality-surrogate-variable-analysis/#.YiFawRDMKX0, https://github.com/LieberInstitute/qsva_brain/blob/master/brainseq_phase2_qsv/quantify_top1000.R, https://github.com/LieberInstitute/qsva_brain/blob/master/brainseq_phase2_qsv/make_qSVs.R, https://github.com/LieberInstitute/qsva_brain/blob/master/brainseq_phase2_qsv/make_qSVs.R#L28. Made public the file /dcl01/ajaffe/data/lab/qsva_brain/brainseq_phase2_qsv/rdas/degradation_rse_phase2_usingJoint_justFirst.rda and other ones. See https://github.com/LieberInstitute/qsva_brain/commit/cba8fa5e886be9242dcbaae7854d1eed0f69cef5 for details. 2022-02-24 WGBS data analysis overview Using BiocMAP http://research.libd.org/BiocMAP/ which Nick is finishing up, you could process the data and have R objects you could load and analyze. So, the data processing would be “easy” in a sense. Next, you might want to check the bsseq documentation https://bioconductor.org/packages/bsseq/ if you are interested in finding differentially methylated regions (DMRs) and in any case, because BiocMAP provides that type of R object as noted at http://research.libd.org/BiocMAP/outputs.html. https://jhubiostatistics.shinyapps.io/wgbsExprs/ and the companion paper is the last WGBS data analysis project I did myself with code at https://github.com/LieberInstitute/brain-epigenomics. Kira Perzel-Mandell, who worked with Shizhong, wrote https://github.com/LieberInstitute/wgbs_meqtl_analysis (link to paper there) and did other projects. If you are plotting methylation levels at some locations, then that’s very direct. If you are trying to find DMRs, it can take a bit of time to get used to the large objects and the related complications (once you filter the data, it’ll be more manageable). If you go into CpH instead of CpG, then memory constraints become harder to deal with. 2022-02-18 Ideas for possible future analyses NA 2022-02-16 JHPCE array jobs and fasthplus Related to JHPCE https://github.com/ntdyjack/fasthplus and http://research.libd.org/sgejobs/ 2022-02-15 snRNA-seq and deconvolution overview Brainstormed several ideas related to deconvolution of bulk data as well as uses of snRNA-seq. Refered to OSCA https://bioconductor.org/books/release/OSCA/ at time. 2021-12-06 JHPCE file permissions and ACLs Motivated /dcs04/lieber/lcolladotor/_jhpce_org_LIBD001/update_permissions_spatialteam.sh 2021-10-20 Transfering files between JHPCE disks Explained some scripts such as /dcs04/lieber/lcolladotor/BrainSEQ_LIBD001/_jhpce_org 2021-09-27 Presentation preparation feedback NA 2021-08-06 How to write a Twitter thread for a paper We revised key features of Brenda Pardo’s Twitter thread https://twitter.com/PardoBree/status/1388253938391175173?s=20 and some features that you would want your Twitter thread to have. 2021-08-03 Refining an abstract submission We talked about all the details that go into writing an abstract for a conference. These details can take longer to complete than initially anticipated. 2021-07-30 Git branches We revised how to make a new branch in Git working with https://github.com/lmweber/OSTA-book 2021-07-28 DNA genotyping overview We discussed the current DNA genotype pipeline and potential changes others might want. 2021-07-20 Overview of the RNA-seq universe From SPEAQeasy, to qSVA, deconvolution, TWAS, etc. It might be best to give a talk about all these topics to whoever is interested at LIBD since we know about all these pieces but others might not. 2021-07-13 Setting up a team at LIBD We talked about https://lcolladotor.github.io/bioc_team_ds/ among other topics. 2021-07-01 How to set up a GitHub actions-powered website This has changed over time. The most recent setup (as of 2021-08-06) is at https://github.com/lmweber/OSTA-book 2021-06-29 Planning session for getting up to speed with SpatialExperiment, spatialLIBD, here and ggplot2 We talked about the set of videos and resources publicly available to get to learn about R, Bioconductor and these packages. It was a lot of information and I’m sure that we’ll have more sessions later on to clarify questions as they arise. 2021-06-29 How to choose and add a licence to a GitHub repo We talked about https://choosealicense.com/, https://docs.github.com/en/communities/setting-up-your-project-for-healthy-contributions/adding-a-license-to-a-repository, https://creativecommons.org/choose/. 2021-06-29 Designing an MS-level class We discussed the posibility of proposing a class that has a mix of biology lectures and some practical coding sessions. The coding sessions could be based after the CDSB 2021 mini courses series. 2021-06-21 Locating public data at JHPCE + bamtofastq workflow We talked about the public data from Synapse and worked on locating some of it at JHPCE. I explained also how we have used bamtofastq when others don’t share their FASTQ files. Basically, we use bamtofastq to reconstruct the original FASTQ files (you might have to append the unmapped FASTQs if they are provided by the original authors) and then run FASTQ-processing tools like our SPEAQeasy pipeline. 2021-06-17 How to transfer recount3 data We met to figure out how to transfer the data for this collaboration, which ended up being quite tricky and involved using an SSH tunnel for rsync. Basically, a command like this one: rsync -avzh -e 'ssh -o ProxyJump=user@server_somewhere_for_the_tunnel' *_files_of_interest user@final_server:/final_path/ 2021-06-17 How to get started with R We discussed the different possible goals and ways to get to them and determined a path forward that relies on the rest of the DSgs system as well as existing LIBD rstats club videos to get started. It’ll be supported by a meeting with Leo and others involved in the spatial transcriptomics projects from the R side. 2021-06-17 Brainstorming session on collaboration I showed the initial version of the BrainSeq Phase II developmental expression explorer developed by Bill Ulrich and Aaron Goldman. We discussed other possibilities for the collaboration including helping set up SPEAQeasy in their servers. 2021-06-02 How to prepare for a LIBD seminar part 4 We discussed the changes that we should make and the ones we shouldn’t based on the feedback received from the practice talk with Keri’s group. The feedback was excellent and very useful, however, we discussed which suggestions were maybe complicating the presentation too much and how to best incorporate them. 2021-05-26 How to prepare for a LIBD seminar part 3 Similar to part 2. The presentation was looking very polished by this meeting! 2021-05-24 Grant application review Helped review the grant application and revise the text. 2021-05-21 PredictDB weights Further updates on asking for help with this complicated project. Suggested reaching out to other LIBD members who have tried running the software before. 2021-05-20 Help preparing a figure for a grant application Discussed with Josh what figures we needed to prepare and how to generate them. This also involved base_size = 30 with ggplot2. Otherwise the font was too small to read it on the grant. 2021-05-20 How to prepare for a LIBD seminar part 2 Now that a first major draft of the presentation was complete, we revised it and proposed some changes to it. Some of them involved remaking the figures using base_size = 20 or even 30 with ggplot2. For future work, it might be best to save the images with that font size from the beginning instead of having to update them later. 2021-05-10 Setting up covr using GitHub actions in an R package We went over the details of the GitHub actions workflow created by biocthis, the parts that you need to run from biocthis::use_bioc_pkg_templates(), and resolving issues prompted by R CMD check + BiocCheck 2021-05-07 How to get started with computational biology I gave an overview of the resources and materials we have created as well as the LIBD bootcamps that we have publicly available to help others get started with computational biology. This is likely the first of several meetings. 2021-05-07 How to insert a figure using the Oxford Bioinfomratics Overleaf LaTeX template We spent a significant amount troubleshooting the problem here (nearly two hours?). In the end, using the insert image “here” LaTeX syntax resolved the problem. 2021-05-06 PredictDB weights General advice on how to ask for help from open source projects 2021-05-06 How to prepare for a LIBD seminar Initial planning session for the LIBD seminar. We talked about the different slides we planned to show and the flow of the presentation. We also scheduled 3 practice talks with different groups of people. 2021-05-03 TWAS prep Overview of the TWAS pipeline 2021-04-08 General guidance on how to learn how to do differential expression analyses Created a learning plan involving several team members that is now documented at a channel in JHU Genomics Slack. That way everyone can keep track of what others are teaching the person who asked the question, and we can have a common communication channel among everyone involved. Sessions include learning how to interact with JHPCE through RStudio, how to run SPEAQeasy, key R/Bioconductor packages (limma, SummarizedExperiment), and explore possible visualizations of interest. 2021-03-29 spatialLIBD support Discussion about features that spatialLIBD could support to make it easier to use for newer data. 2021-03-25 Creating a documentation website using bookdown Help with understanding bookdown and ideas on how to organize a documentation website (chapters and information to consider). 2021-03-25 Clarification of LIBD support Discussed the research project proposal and how we can help. 2021-03-25 General advice General advice. Received feedback regarding file backups. 2021-03-24 Download SRA data and run SPEAQeasy I identified that https://www.ncbi.nlm.nih.gov/geo/query/acc.cgi?acc=GSE154829 contains both miRNA and RNA-seq data. Using data from the SRA Run selector at https://trace.ncbi.nlm.nih.gov/Traces/study/?acc=SRP273137&amp;o=acc_s%3Aa I was able to filter the data to the RNA-seq samples and subset the input samples.manifest file for SPEAQeasy. 2021-03-24 Explain the feasibility of an on-demand end user interface for DEG and eQTLs To identify DEGs or eQTLs, the user has to choose what covariates to adjust for. Some studies might require more complicated models than others, as they might be from more than one brain region or present some batch effect. In addition, in newer projects we are considering adjusting for cell type fractions derived from deconvolution. Even if all the covariates were fixed across datasets, in DEGs we have typically adjusted for qSVs which are computed in a dataset-dependent fashion and in essence are PCs derived from degradation-associated genomic regions. Similarly, for eQTLs we adjust for expression PCs. In both we adjust for ancestry PCs. Computing PCs is input-dependent: you won’t get the same values or PCs if you change which samples you are using. So, computing DEGs and eQTLs is not as simple as say a map-reduce problem where you compute the same thing for every input sample, then aggregate the per-sample results. We have steps that depend on the whole sample set. Then there’s also steps for filtering expression features based on some minimum expression cutoffs. Plus, differences between say polyA and RiboZero data, which don’t make sense to process together. For these reasons, I don’t think that an on-demand computation pipeline is feasible based on a user selecting a set of input samples. Constructing RNA-seq objects (RangedSummarizedExperiment objects) as well as DNA genotyping VCF files based on a set of input samples is feasible and that’s what others are building. After that, I think that it’s best to adapt code we have (or even use newer tools) after carefully exploring the data. 2021-03-11 BSP2 eQTLs with a subset of SNPs Adapted code and shared it at https://github.com/LieberInstitute/brainseq_phase2/tree/master/eQTL_full/subset_hancock 2021-03-10 How to write a small methods paper Created GitHub issues at https://github.com/LieberInstitute/VisiumImgProcessing/issues 2021-02-05 BSP2 LIBD eQTLs request NA 2021-01-29 Help determining what data is available and what can be used for an analysis Use of galaxybrain for identifying samples with DNAm, DNA genotype and RNA-seq data 2021-01-26 Guidance on how to download data from a study in GEO NA 2021-01-14 biocthis macOS GHA bug BioC Support website answer 2021-01-11 Questions related to accessing results from the DG paper by Andrew Jaffe NA 2020-11-25 Accesing CMC RNA-seq data Started PsychENCODE access request process 2020-11-11 Differences between recount2’s “bp_length” and SPEAQeasy’s “Length” Check Slack helpdesk channel 2020-11-11 GitHub actions workflow issue with macOS on R-devel GitHub issue at biocthis 2020-11-03 Fixed two bugs on recount3 related to locate_url() for the BigWig files. Resulted in recount3 versions 1.1.1 and 1.1.2 on bioc-devel (and 1.0.2 on bioc-release) 2020-11-03 Fixed a bug on biocthis for release branches GitHub issue at biocthis 2020-11-03 Issue with knitcitations GitHub issue at biocthis 2020-10-30 Issue with JHPCE file permissions Explained the chgrp and umask commands plus ~/.bashrc file configuration. I also mentioned why we don’t use chmod 777 at JHPCE. Details on Slack (private channel). 2020-10-30 recount3 GTEx data access BioC Support website answer 2020-10-28 exceRpt pipeline counts BioC Support website answer 2020-10-21 Ballgown stattest BioC Support website answer "],["louise.html", "7 Louise", " 7 Louise Date Help request Notes 2024-03-14 I tried to apply “qSV_model_DE_analysis.R” in lithium-exposed samples ( from Dpseq data), but I was confused by some of the code, especially “run_DE.R.” I walked throught the run_DE function I wrote for MDDseq (a wrapper for the limma-voom) pipline. I pointed out what parts of the MDDseq code he could adapt and simplify for his use case (its less complicated than the many DE runs we completed for MDDseq) 2024-03-11 quick big fix. Its the same eQTL code – just one header in a file that’s always missing Fernando was having some conectivity issues with JHPCE, so we didn’t get a full bug fix in I suggested some de-buggin strategies [Update 3/15] We met again breifly to confirm the functions were working as intended. Initial issue was caused by un-intentinally overwriting the function 2024-01-25 making a corrplot with a lot of data points . Sreya wants to compare the correlation of 5 transcipts with 2k degradation transcripts. She had the data in the right format but needed help appllying the cor function to the table using group_by. Corrrplot was not the correct function for what she wanted to achive here. 2024-01-22 Maybe divinding them by sample name may help. Michael and Peter are working on a BPD vs. MDD DE analysis. They were getting more DEGs than were reported in an early version of the MDDseq project. I could not find the code for the data they were refrencing, with out the code it will be impossible to diagnosis what is differnt in the two analysis. I recomended they use the more up to date data from MDDseq, and pointed them to the correct data &amp; scripts. 2024-01-22 when I try to rerun R dreamlet pseudobulk on the new JHPCE, I keep getting errors… (provided code example) Tricia and Fernando are re-running serval analysis they previously had working on the sge cluster, with the update to slurm they are now having issues. They are also having differnt errors in the same scrips + data. This could be a multi-facet issue, but firstly sounds like a R package version issue. I advisded the first step should be to have the same set-up, work in the same version of R and the same version (most updated) packages. See what errors persist and go from there. I also recomended Frenando start using git repos and version control with his team to help keep projects organized and consistent. 2023-11-30 Regarding the transcriptome assay from the multiome approach, I have selected canonical gene markers from the different samples; Moving further, I would like to integrate to the analysis external gene-markers shared by S.Page. I am looking the best way to do this. Cynthia and Hedia are starting the annotation/cluster integration of the multiome data. The data is currently clusted indiviudally by sample, sn, ATAC only, and combined sn+ATAC. findMarker has be used to calc marker stats for each cluster in each sample (there is a ton of data to digest). I am unfamilar with the sample independendt cluster, consered marker gene integration from seurat. But I gave advice to check the current clusters for hihg expression of any of the known marker genes to see if we’re picking up the expected biological signal, and do some prelimary annotations as a sanity check. Also to keep following the workflow and see if the conserved marker genes match with any of the know markers. Also to start recoring annotations for the clusters in a csv file for easy editing by hand as well as easy reading in to R 2023-11-29 Help with qSVA overview schematic I advised Hedia on how to adress some issues with the qSVA overview plot, both minor issues like aliginig and resising objects with biorender tools, and major rearngment of the table and DE application part. 2023-11-15 I would like to discuss with you the correlation issue related to the cellular_component model of the qsvaR package and get your feedback. Hedia has gotten some feedback on some unexpected behavior from qSVAR package. The qSV values show no significant correlation with other phenotype metrics (they have in the past), while this is not impossible it is strange. There are many factors that could have lead to this issue. Hedia and I talked about some debugging strategies, starting with re-running the workflow on familar data to see if we can re-create the issue or detirmine if it is unique to KJ’s dataset. 2023-10-19 Help migrating to SLURM setup I walked Lionel through the new login commands for SLURM + updating his bashrc file so he can work with the slurm cluser 2023-10-12 Prepare expression bed files for tensorQTL Adapted mode code for tensorQTL prep, had to add genomics ranges to the sce object, and deal with bugs around rse_to_bed function 2023-10-05 Prepare covariate input files for tensorQTL Worked through addapting code for tensorQTL prep for the MDD single cell data - had to deal with bugs relating to cell type names 2023-09-29 Interpretation of results plotted in inflection plots of Cellranger-arc data sets (GEX assays). For example, how do you know which genes are representing neurons or glia? We looked at the rank vs. total UMI curves relevant for emptyDrops for the atac-seq samples. Cynthia and I have discussed these samples before. We went over how the emptyDrops function works again and what we can guesss is happenin in the curve (neurons vs. glia vs. empty droplets). She is concerned beause for the 42-4 sample the wetbench target number of nuc was 7k, emptyDrops retrurns 9k. I thought that that sounded in the right ball park 2023-09-22 help get normalized single cell data from a single cell rse for downstream eQTL I helped Fernando modify my code for creating input files to work witht the new pseudobulk data. Wegot the gene PCs done, he needs to get the genotype files together for this data before we can move to the next steps. Planning to meet more next week to continue this process. 2023-09-21 Discuss deconvolution for some future work Peter and Reza were interested in running deconvolution on the bulk MDDseq with the new large MDD snRNA-seq dataset. The MDD snRNA-seq dataset is only sACC, we concluded that only haveing one region might make this analysis a bit awkward for the Amyg data. I them to the current deconvolution results and how we applied thoes results in downstream analysis. 2023-09-21 help get normalized single cell data from a single cell rse for downstream eQTL I walked Fernando through using registration_pseudobulk() on the large MDD single cell dataset and went over how the function works. We are planning to meet agian to go over running PCA to prep for eQTL analysis. 2023-09-06 snRNAseq celltype grouping in DLPFC data I discussed diagnosing marker quality with Maddy + Stephanie Page for the spatial hypocampus project. They are on the right track, and have created violin + hockystick plots for the different iterations of the dataset. I advised they elimate a noisy cluster and re-compute markers. 2023-08-21 I performed the whole analysis as previously established and also made an alternative version based on knowledge of OSCA book for single nuclei (with adaptive thresholds for QC and less tolerance for mito UMIs). Would you help me checking my QC thresholds and seeing if they make sense? Alan has used MAD cutoffs on total UMIs, genes detected, mito %, and a metric we haven’t worked with yet: genes per UMI. He evaluated the data all together (not by sample) and chose #Mads by what seemed reasonable. The values he has used look good, but perhaps a bit strict. We looked at the distributions, which are slightly different between samples, I advised he use scater::isOutlier to see what the cutoffs would be by sample. One step he is lacking is doublet detection, I suggested he apply scDblFinder::computeDoubletDensity. Alan already has clusteres and annoted this data (lots of work) I suggested that a great double check is to calcluate the median value of the QC metrics for each final cluster and see if any are much higher than the others as a good double check that his initial QC process worked well. 2023-08-10 writing tweets efficiently I gave some pointers about writing tweets. Mostly keep it simple, give people a call to action “check out this link!”, add something eye catching. Also to spend sometime reading tweets and pay attention to what you like that other people tweet? What caught your interest? We also talked some stradgedy about tweeting around confrences, calling peoples attention to your talk/making it easy for people to find you to get in touch 2023-08-09 Running DeconvoBuddies on the Mathy’s data We talked thorough the thigns to think about for the Mathy’s dataset (this dataset has case + control paitents and found DEGs w/in cell types). I advised to start simple with the broad cell tytpes and not consider Dx at first. Check if the DEG they idetified are in our marker set. I think this will need some discussion with the project team if Dx is a concern for spot deconvolution. 2023-07-26 Feeback on spatial data + code organization We ttok a look at the changes in the clustring in the spatial data before and after cropping out a area of questionalble quality. To me it looks like the QC params are too strict leaving spots floating in space, which I’m guessing is contributing to weird BayesSpace results (but this is a guess). We also talked code organization strtagedy - mostly keep it simple and consistent 2023-07-26 Feedback on workshop vignette I helped Hedia improve the formatting &amp; content for her BioC qSVA workshop, main feedback ins to focus on and highlight the qsvaR steps in the workflow (rather than SummarizedExperiment overvew &amp; DEG analysis) 2023-07-25 Practice BioC talk I helped Daianna practice her BioC short talk, Mostly she needs to give more slides to discussing her results &amp; include more actual plots not just icons (she much improved this presentation for the 7/26 meeting :) ) 2023-06-28 About empty drops run with GEX cellranger-arc data Cynthia has run DropletUtils::emptyDrops on the two LIBD + two example samples. We first clarified some terms and outputs she had recorded. For the most part DropletUtils returns similar number of non-empty cells as CellRanger arc, but Cynthia didn’t confirm that the two methods flag the same cells. I asked her to creat a confision matrix between the two methods for each sample to check this. The main concern Cynthia has was the LIBD sample with only 3k cells input, has 9k non-empty droplets returned by emptyDrops. This is quite odd as the CellRanger Arc metrics look quite bad for this sample, but the DropletUtils metrics look fine (there are high UMI values for many droplets). We will want to dig in to this more to understand the differnces between the two methods. 2023-06-15 1/Learn about the roxygen2 syntax for examples. 2/Run devtools::document() like in dev/04_update.R (maybe also auto-style code). 3/Edit the news.md file + bump version on the DESCRIPTION (and change the date). 4/Learn about how to sync her local repo with steps like http://contributions.bioconductor.org/git-version-control.html#new-package-workflow (aka register to https://git.bioconductor.org/BiocCredentials/login/?next=/BiocCredentials/ like @Daianna González + add the upstream remote + git push to both upstream and origin). We started with getting github token access for Hedia’s laptop working. Then started a pull request using usethis for qSVA, for Hedia to add seed capabilities to several functions. We will need to meet several more times to complete the whole help request 2023-06-14 I created this github repo: https://github.com/LieberInstitute/neurovasculature-pilot/tree/main. Also, integrated it with slack, but instead of integrating the main branch, I linked the devel branch, and I am unable to see the commits that I make on slack. They are updated on github, though. So, I need help with the integration. Uma mentioned that she had to login everytime she pushed a commit from the directory in question (but not other repos). I thought we should start by using a github access token to update her login to github from JHPCE. The best way I know how to do this is to use gitcreds::gitcreds_set() in R. At first it gave us an error, which was solved by adding the git modules loaded in the team bashrc to Uma’s basrc file as well as her .gitconfig file. After that we were able to save the token to her JHPCe setup and the github push issue seemed to be solved 2023-06-08 Options for cell type specific eQTLs Reviewed input for tensorqtl (it is counts, not logcounts), and revised what how we filter lowly expressed exon-exon junctions using http://research.libd.org/jaffelab/reference/expression_cutoff.html. 2023-05-09 Overfitting in qSVA Hedia was concerned about the large number of variables in the reproducibility DE experiment, specifically the PC. I pointed out that the point of the anlaysis was to test the effectiveness of the models (with and without qSVs) so while this might be a valid concern in a sperate DE analysis, we are testing model quality here. I also noticed that the reproducibility anlaysis was not using functions from the qsvaR package, and that as qsvaR is the “product” of this whole project its important we use the functions in this anlysis . 2023-03-24 tensorQTL code overview Trish and I went over the code I previoulsy wrote for tensorQTL, and some of the custom functions for preparing the input data. How to input the different datatypes in to python, and run the function, and strategies for running the different cell types in parralell on the GPU queue 2023-03-23 Check some issues with GitHub Actions I helped Daianna decipher an error message she got in the BioC check in the GitHub Actions involving a local path harcoded in to one of her tests. We also debugged for similar issues by searching her code for other local paths that would cause her code to break when run remotely 2023-03-20 tensorQTL pipeline overview I shared the tensorQTL example I presented at rstats club. We also went over the different in-puts and formats, including some we can re-use from bulk MDDseq. WE also discusses the differnt setting for tensorQTL and how to adapt sh files to submit to the GPU queue 2023-03-01 Deconvolu code where the bisque doesnt show any differences Sreya was having some issues with functions from DeconvoBuddies, namley plot_marker_express. I am going to check that on my end as it seems like her computer wasn’t finding the support functions for the main function. She was also having trouble matching the gene names between the sce and bulk rse objects, the ensembl names seemd to have differnt versions, I advided she maybe switch to using the gene symbols to keep things simple. 2023-02-21 Creating marker heatmaps with pseudobulk data We went over the ratioinal behind psuedobulking and how we can use heatmaps to show marker experssion. Created psuedobulk data for three different clustering methods, and went over the basic process of making heatmaps. Bukola will work on the aestetics of the heatmaps, and cerate one for all thee clustering methods. 2023-02-17 Setting up .bashrc file for folder access permission for DLPFC-SCZ project related to my meeting with Uma on 2/10. We fixed Boyi’s bashrc to allow group write by deafult, fixing the ,git issue and eliminating the need to re-run the permission update script often 2023-02-10 I have questions on GitHub and submitting SGE jobs. Uma was having file permission issues, the group permissions for several files in a shared project were set to read only. This was causing issues with the team using scripts but also in making git commits as some of the idex files in .git were read-only. We updated her bashrc files to contain “umask u=rwx,g=rwx,o= ## equivalent to umask 007” to prevent this in the future and ran the premissoin update script. 2023-02-09 Moving forward with multiple cluster methods Bukola hads run muliple clustering methods on the habenula data, I advised she pick the two that were the most simmlar to ERiks previous annotations (we were happy with) via rand index, and start examining marker gene expression. 2023-01-19 GitHub for a beginner Hope created a github account and I talked her thuogth the basics of git, But we hit a snag with the instalation of git on her laptop, git is built in to xcode in the ventura OS (which her machine is running) but she had some trouble with that instalation too. Shes going to try and fix that independtly, and reasch out if she needs more help gettign off hte ground with git + github 2023-01-18 snRNA-seq GLM PCA We adapted code from the DLPFC work and https://www.stephaniehicks.com/biocdemo/articles/Demo.html to run GLM-PCA to prep for batch correction 2023-01-13 snRNA-seq QC Bukola and I adapted QC code for the habenula data 2023-01-11 Plotting Gene Expression with SCE Continuing Sreyas work with the single cell mouse data, I pointed her towards scater::plotExpression to plot some of the genes her group is intested in observing by cell type. However we ran in to some bugs with running logNormCounts which we think is from an old version of R. I advised that she update R and re-install the packages, hopefull that will fix the issue. 2023-01-04 Help building SCE with downloaded data I helped Sreya build a single cell experiment object with expression and metadata csvs she had from an publication. Hopefully she can use this to independently explore the gene expression her group is interested in. 2022-12-14 Discuss Mean Ratio marker gene finding Hedia wanted some background information about the deconvolution process we applied to the degradation data. I explained the mean ratio marker finding, the resulting stats, and how we ued them to build our set of marker genes. Then the script for how we ran bisque + the output of bisque . 2022-12-14 Deconvolution study with rnaseq bulk data Sreya wants to test if a gene of intrest to her group is associaited with a ceratain cell type. They are working with bulk mouse data. I suggested that deconvolution may not be able to answer theire innital question but can provide depth to their bulk analysis. I suggested that they find a mouse single cell dataset that is relevant to their current data set, then first observe their gene of interest their, see if that answers any questions. Then they could use that data to run deconvioltion with bisuqe (I suggested a follow up meeting if she needs guidance with this) 2022-11-30 Understanding PCA for Habenula project We discussed how PCA reduces the dimesions of our data and helps show the variance between samples. I helped Bukola strategize how to make PCA plots for the habenula data. Start plotting the first 5 PCs pairwise, color by Dx. Then explore key QC or demographic variables, see if we can indentify any patterns. I was unsure if she should repeat this for exon, jx, tx, as we didnt for MDDseq. But figured gene was a good place to start and if the other features should be explored too, the code should be easily adapatabe. 2022-11-30 Review deconvolition script for qSVA I gave Hedia a breif overview of the goals and process of deconvolution, including mean ratio marker finding. I linked my deconvolution slides. We then went over the code for running bisque on the qSVA dataset, including details of the input, refrence, and output data. 2022-11-03 help submitting jobs with R parallelization in jhpce. For instance, I would like to use scater::runPCA with the BPPARAM=BiocParallel::MulticoreParam(8)) parameter Tricia is trying to run glmPCA on the very large MDD snRNA-seq dataset. She has a run submitted without parallelization that has been runing for 3 days. To try and speed things up she has been trying to use BioCparrallel, via MulticoreParam. But the scheduler keeps killing her job. We checked that -pe local X and MulticoreParam(X) match , so it wasn’t that. I recomended she try to run a subset of the data to get a sense of how glmPCA uses memory. But couldn’t come up with a fix to make the parallelization work. As its PCA it also can’t be run as subsets, so there aren’t other workarounds :( I think BioCparallel + sge scheduling would be a good topic for Rstats club as this seems to be a common headache 2022-10-27 I have this single nucleus RNA sequencing experiment with the mouse LS that Matt analyzed and we have a final single cell experiment, but I don’t know how to do anything with this data set and want to learn how to plot heatmaps and possibly other things for this data set. Can we maybe schedule an hour to start this learning process and then I can schedule future time as needed? Lionel walked me through some plots they need for the LS paper: marker genes heatmap and expression violin plots. I pointed him to some code from DLPFC sn that should be helpful (he needs access to this repo). He also needs to get setup with JHPCE on his new laptop, I pointed him to the team laptop setup docs. He also is new to ggplot, so I pointed him to the visulization chapeter of R for data scientist. This will probaly require some follow up meetings 2022-10-26 Check the DEG heatmaps Daianna has added a new color scheme to the heatmaps that makes the differnces between positive and negative more clear, how ever I think the darkest red being close to 0 is misleading, so shes going to fix that. I also recomended she simplify the annotaions on the combined heatmap so its easier to find and interpret patterns. 2022-10-17 Review TMM paper We reviewed the reasons or correcting counts and why thats important for DE analysis. We went over the math behind TMM, and then how thoes ideas are used in edgeR. I pointed Bukola to a stats quest video with a more detatiled explination of how the edgeR correction works. 2022-10-14 csvs that I want to merge together Sang Ho showed me the csv files that he exported from different moduled on HALO. They seem to have the same rows, so copying the needed column in to a differnt csv is easy in excel (where Sang Ho is working) but I showed him how to check that things are really aligned with some excel functions. We also looked at the data in prism, which I had to quickly learned about. I advised that he should show the data in boxplots not as a barplot to better display that data, and went over the checks for running an anova. 2022-10-11 GO and KEGG boxplots with the modifications you suggested Daianna showed me her dot plots with the correct 0.05 q val filter, they looked good, ready for discussion. One tweak , is hshe had a combined up + down expresion col for some plots which was redundant and should be removed. She had also made some heatmaps that didn;t show very much difference between case control, htey probaly need to be normalized by the genes overall expression, but I need to check prevous work to remeber how to best do that 2022-10-10 QC approach for hebenula We went throught boxplots Bukola had made for the data, I suggested she add geom_jitter and how to make that work with geom_repel to help show more details about the data. We also discussed direct vs. standard evaluation of variable and how that makes writing funcitons with tidyverse tricky, but how she can use aes_() to do stadard eval with ggplot 2022-10-05 How to check technical effects for RNAseq data I walked Bukola through our process for buld data QC, which involves making many exploratory plots of QC metrics and know groups (like batch, or case/control) to understand patterns and identify problematics samples. Then later implementing cutoff values either based on stats (like a 3 MAD cut off) or knowlege of ressonable values. Bukola will spend some time plotting QC values, adapting code from smoking mouse, then we will meet again to interpret these plots. 2022-10-05 Reviewing GO results and dotplots Daianna and I went over the dot plots she made for GO analysis from the multiple DE test she ran. Her plots look good, but we identified that she needed to use the default q cutoff to get useful results. She will rerun the GO analysis and replot the results. 2022-09-30 Working on making a violin plot for just one gene. So by brain region rather than gene type We adapted my_plotExpression() (a function I wrote) to work for Bukola’s data. This required some debugging as subsetting to just the one gene in question altered how some internal dataframes looked. I also gave Bukola some pointers about saving plots using ggplot. 2022-09-30 Question on the feasibility of some approach with HALO (for the AD project) Sang Ho walked me through an analysis they want to do for the AD project, it involves annotating HALO data. We talked thought a strategy, this may be a bit computationally tricky to implement but it seems doable. 2022-08-22 DE analysis introduction I went over the DE pipeline we use, noting that the model development is the most demanding and non-static part. We talked specifics for their dataset which has some experimental design to consider as its organids and is diffrent from patient case control. I posinted Geo to scripts where we do QC, expression cutoff, and my run_DE script 2022-08-18 Git push help Heena saw old commits pop up on slacks git notifications when she pushed commits she had locally on her laptop, but they didn’t reappear in the git history. I think she did everything right and there might be something strange with the behavior of the slack message (as thats the only place things seemd wrong). We did some detective work between the files and the commits, everything seems good. Heena was able to then pull to the cluster with out conflicts 2022-08-17 check the models and the results I have obtained so far from the DEA Had to work over slack again as Daianna was having trouble with zoom. Working with the feedback from the previous meetings, the experimetn has been narrowed down to 5 DE runs, and then comparing some pairs of the outputs. We were unsure if we should include mitoRate as a variable in the adult model as it correlates highly with totalAssignedGene, but decided to include it for now to match the model used in the pup DEA. I also sent her some code I have used to make scatter plots of t-stats to help compare DE results. 2022-08-10 Check the model design of the smoking mouse project We intended to meet on zoom, but Daianna’s connection was bad so we used Slack to chat. Daianna has made many plots and visuals about the many DE analysis for smoking mouse. I gave her some feedback about orgaizing her slides so the figures can practically be used inform DE models, right now everything is a bit scattered as shes planning on running 7 analysis so there is a lot to consider. We will need to meet again to finish this. 2022-08-03 Review results of Varaince Parition for smoking mouse Daianna showed me her varianceParition plots, and we talked bout how to design the DE anlaysis based on what she’s oberved in the mouse data. I advised to keep things simpler (ie not create too many groups) but rather use models to control for vaiables adding variance. We will meet next to talk model design for this work. 2022-07-15 QC update for smoking mouse Daianna shared her updated QC plots, adn the one sample she planned to drop based on fastCellQC. I advised that she dig deeper in to how that QC finstion works, and what the cutoff values are, as well as exmaming mito vs. ribo precentages, and a two samples that don’t seem to group with others of the same phenotype / 2022-07-07 help row annotation colors of a pheatmap I explained how to get pheatmap to use the same color scheme for column and row annotations by making the annotaion tables have the same colname, and suppying a color pallet 2022-07-07 Subsetting eQTL results with in risk loci We discussed a strategy to subset the 102 loci in question, and adapted code to subset the FDR signif pairs to work with the location info. 2022-07-05 QC update for smoking mouse Daianna shared the updates she made to the QC plots based on our previous discussion, specifically separating brain and blood samples. 2022-06-28 Review progress on smoking mouse DE project Daianna walked me through her progress in the DE analysis. We went over QC plots and discussed experimental design. She will check in with Kristen about how to organize the brain vs. blood samples. Currently she dropped the blood sampeles as they looked very different in several QC metrics. But I advised that they just be handled seperatly as it makes senese they look different as they are different tissue, and the signal is probaly biological rather than technical 2022-06-17 JHPCE Github setup We fixed Sanjana’s ssh set up and got the qrsh command working. We got git configurated for her locally and on JHPCE, as well as set up tokens. Created a test repo, and made commits from her laptop and JHPCE as an example 2022-06-15 Github setup We went over github basics and motivation behind version control. Quickly discovered that Sanjana’s qrsh command is not working, requiring a password. Ended up using the session to troubleshoot that, with no success :( planning on circling back/re-setting up ssh for her. Will meet later about git setup 2022-06-15 Revisited the sc analysis and could use some help We checked Sreya’s code against the OSCA DE example run. She was worried that there weren’t may significant genes, but her results seemed to be in the same range (10s of genes) as the example. We discussed how maybe there were QC or demographic variables that could have been added to the model, but the data she has doesn’t have much to work with. We will revisit when I have maybe done more work with sn DE analysis. 2022-06-03 I might need a review of how to go about selecting marker genes for the spatialDLPFC data. Also, I’m curious what code you have for making heatmaps showing marker gene expression across cell types. I pointed Nick to a few scripts used in marker finding for the Tran Maynard dataset, using a few functions from DeconvoBuddies. For marker heat maps we went over how I hace built annotation tables, and a few tricks for optimizing pheatmaps for maker plots. 2022-06-02 Single cell rna seq analysis We converted a downloaded dataset from tsv files to a sce object. Went over a strategy for performing DE on single cell data, using OSCA as a reference 2022-06-01 I have a mouse single-cell RNAseq data that I am aiming to identify cell types in different clusters. We spent the session getting Sanjana set up better to work on JHPCE, setting up ssh keys, cyberduck, RStudio, and config files. Plan to meet again to set up git + start single cell work 2022-05-18 Color bar for heatmap We both leaned how to use the image function to create a annotation bar for heatmaps based on a custom color pallet 2022-05-09 Cross Reference help We went over how to create a new type of refrence (Supp Table/Supp Figure). Also walked though the full process of creating a label and then refrencing it in from the text + considreations for formatting 2022-05-05 Need some help to make a plot We went thourgh some plotting code Sreya had adapted to make a manhattan plot, and went over which aestetics to change to get the desired plot 2022-04-27 Help with purrr loops for WGCNA funtions I helped come up with a stratagedy to loop over 100+ files for an analysis and exreact a portion of the results in to one R object 2022-04-07 writing papers in google docs and setting up links for figures We installed and configured Cross Refrence, then went over how to use the lable vs. refrence links + pro tips on how to avoid errors 2022-04-06 I’d like to consult with Louise about how to make a spatial plot in R using a data set from the HALO FISH-IF module. We want over some plotting basics with ggplot2, and how to use geom_rect to recreate some spatial plots that a halo module produces in R. 2022-03-24 Advice on how to increase code coverate with testthat We applied some test I used for the TREG package to help test more parts of the functions, like checking for errors w/ bad input, warning messages, and qualities of outputs. We discussed possible ways to use testthat on a ggplot, but that might need more thought. 2022-03-15 TODO TODO 2022-03-04 Understand the covariates used in scRNA-seq cell type analysis for a project we are doing with striatal organoids We went over the files (data and script) for the deconvolution analysis done for the habenula in BSPIII. We also discussed the theroy/methodology for deconvolution. 2022-02-24 Help building for loops to analyze WGCNA ouput data We discussed how to build and save data with a for loop and with purrr::map. Went over how to define a function in map to do nested loops 2022-02-24 I would like to learn how you ran tensorQTL on the MDD data, maybe with using the GPU nodes for it. Geo was interested int eh workflow I developed for tensorQTL. I went over the requirements and input formats that tensorqtl requirers, and how I had previously made them from our dataset. Also discussed the differnces between the functions and their outputs. 2022-02-15 Access to the gene info in the rowData of the Summarized Experiment objects to annotate eqtl results We went over how to acess the rowData, and what the rowData inthe MDD project contains. Ended up adding columns to the eqtl risk snp subsets to help with analysis 2022-01-20 Troubleshooting ExprssionSet conversion Fixed row names to both be ensembl IDs, discussed simplifing cell types in sce, converting sce arrarys to matrix 2022-01-19 Help using BisqueRNA, getting snRNA-seq into correct input format, chosing refrence vs. marker based deconvolution I shared some detials of our deconvolution approach, we walked through the SCE to Expression set converson, and discussed some issues that may come up 2021-11-03 Debugging help with rse_tx object We discussed how to check for duplicate rownames, and stratedgies for variable naming + working with rse objects 2021-10-29 qc general scripts, rnaseq scripts general, ggplot histogram with breaks We found a R function that helped produce the plot she was looking for 2021-10-25 We would love an opinion on our (now cell-type assigned) single nuclei rna-seq data, i.e. how they look - if anything is off, advice for improvement… two main issues were discussed: After batch correction there is one sample that clusters mostly independently from the other samples. This sample did not stand out in QC (althogh this will be re-examined). There is some evidence that this donor might have been clinacally different from the other donors, and since the batch correction worked well for the other samples, there is the possibility that this is real biologal signal. However since there is only one such sample it would be really hard to confirm this, and the inclusion of this sample would counfound the biologcal question of interest. I advisied to drop this sample post-clustering on the grounds that this donor might be too differnt from the others. Prelimnary results from DEG by cell type for the three groups find mitocondral genes are the most differntly expressed. They are concerned as MT RNA could be a technical artifact (contamination) this tech isn’t the best to explore this. But there is are other findings that cellular metabolism may play a role in this condition. I advisied to keep the DEG results with the MT, add the caveat in the paper that this might not be a perfect experiment for this but it could support real differnces in the cells (plus they already have pretty strict MT QC). Also run a second DEA w/o MT genes to see what other signal exists. | | 2021-10-23 | I am trying to compute DEGs from thefunction registration_stats_enrichment… Error in limma::makeContrasts(contrasts = z, levels = registration_model) : The levels must by syntactically valid names in R | The error came from the names of the clusters just being integers, the names for limma need to be sytactically valid (not just numbers, no spaces, no special characters - basically need to be variable names in R). I advised to simply add a prefix like we did in spatialDLPFC (sp9k1) or even simpler like “c” to her cluster names. Maybe we should add a warning to the function about cluster names since this error is pretty hard for users to de-bug and people often have non-sytactucally valid cluster names (especally with cell type names) | | 2021-08-26 | using map to cbind a list of six to its corresponding list of lists. The second is a list of 6, each a list of 3. | Did some troubleshooting on nested map functions, when to use ~.x and when to use function() syntax | | 2021-08-23 | Using purrr and map to loop over datasets and apply qsva | Went over basic, complex, and nested map() usage and how to apply it to Josh’s current work | | 2021-08-20 | Help with JHPCE login issues | We were able to update the keys for the cluster, but the ssh key login was still broken | | 2021-06-30 | Debugging ggplot code | We reviewed her code and I gave some pointer on what bugs to look out for with certain errors in ggplot | | 2021-06-17 | Manhattan plot making and tstatistic | Pointed her to some oacjages for creating TWAS plots whe was interested in and we walked through some code I used to compare T-stats from different DE models | | 2021-06-03 | questions about expression_cut and pca plots | We walked tought script from getRPKM to expression cut to filter rse objects, I also pointed Brenda towards some reasources to get started with ggplot | | 2021-05-28 | Differential Expression help (continuation of 5/20) | NA | | 2021-05-20 | Making plots for DE studies | We reviewed the model that Sreya was evaluating for DE. As we as troublshooting the plot functions from the SPEAQeasy bootcamp code. I also advised taht she could create a volcano plot for her results. | | 2021-05-12 | Making plots for DE studies | We went over some plots we have made for DE previously, (quality control &amp; PC scatter plots, t-stat scatter between models, venn diagrams, and boxplots). Talked about some things to watch out for in her data (small samples size). We are planning to meet again when her data is ready. | | 2021-04-19 | JHPCE set up on mac | We got ssh key login working, added config files to JHPCE, went though a “hello world” example of using files on JHPCE on RStudio | | 2021-04-15 | JHPCE set up on mac | Henry needed to reset his JHPCE password as he had forgotten it, but we went through RStudio set up and got cyberduck installed, we will set up a meeting next week for ssh keys and configuration | | 2021-03-26 | Need help understanding the sce - single cell object | Went over basic functions of SummarizedExperiment and SingleCellExperiment, what a Sparse matrix is - how to convert to non-sparse. Steps to take to use getRPKM on SingeCellExperient. | | 2021-03-19 | Change point size in vis_clust_grid | We walked througth the SpatialLIBD code to find where the argument has to be changed | | 2021-03-05 | Maker finding for cell types in single cell data | I showed them the tools I developed in DeconvoBuddies package, and provided links to example code where I had applied these funcitons in previous work | | 2021-02-09 | Visualizing RPKM valus for genes in Humna and Primarte data | We spent time doing basic Rstudio setup and troubleshooting, and got the data downloaded | | 2021-02-04 | Github ssh key set up | We got the ssh keys working for Brenda’s github | | 2021-02-04 | Work on habenula deconvolution and debug the deconvolution package | We went over applying DeconvoBuddies functions to hebenula data | | 2021-01-27 | group_by bug for get_mean_ratio | We are going to try an iterative strategy to keep tables smaller | | 2020-12-08 | Resolving issues in phenotype data between genotype, expression, and LIBDpheno | Need to resolve swap bugs. Plan to create a table of phenotype data (Dx, age, sex, race) for each BrNum to mach genotype data | | 2020-12-07 | jhpce set up on mac | Went through the setting up passwordless login for jhpce using ssh keys, and coppied the configuration files from https://gist.github.com/lcolladotor/3b1063db30a206835ee7e086c8f037ee | | 2020-11-18 | Help clustering sce data | We debugged some code and ultimetly decided that it might be best for Abby to write new code and use the tsne function to cluster and plot the data | | 2020-11-13 | Using reshape package to transform table for plotting | I recomended using dcast to do a “long” to “wide” data transformation | | 2020-11-12 | Help adapting ggplot script for TWAS Z-score | We talked about how the data should be structured before using ggplot (transforming some data and adding catagorical columns) | | 2020-11-05 | LC repo organization | We discussed organizing by analysis (a directory for each one, then prehaps sub- directory for data &amp; plots). Create a readMe for each sub-folder. Use gitignore to keep repo from getting too big. | | 2020-10-27 | Plotly help if possible? I’m trying to export an html file that allows the user to look at each snp/gene on the plot, and I am almost successful. Leo recommended that I talk to you on this matter. | Needed to use highlight_key and highlight functions to select points between plots. Used rstats example as guide https://gist.github.com/lcolladotor/350ac8843e153d135f64880a1d029b14 | | 2020-10-21 | Question: Subset center regions of a set of different length sequences | BioC Support website answer | | 2020-10-20 | Help with spatstat | spatstat package https://spatstat.org/releasenotes/spatstat-1.39-0.html, L function https://www.rdocumentation.org/packages/spatstat/versions/1.64-1/topics/Lest, Kmark https://www.rdocumentation.org/packages/spatstat/versions/1.64-1/topics/Kmark | "],["maddy.html", "8 Maddy", " 8 Maddy Date Help request Notes 2023-08-09 Adding ceil function to splitSlide to split arrays covering fiducials https://github.com/LieberInstitute/spatialDLPFC_SCZ/commit/5e84f5ce32e6723b1a1eea20dc47ee320d55ca10 2023-08-09 Explain the SPE organization and subsetting an SPE NA 2023-08-03 memory error with VistoSeg::InFormStitch function Suggested deleting all old files as the code might be appending data instead of creating new files and also increasing the h_fsize, as the error relates disk space 2023-08-02 How to check if a visium slide data is already entered into REDCap guided him to the search engine on REDCap 2023-07-27 insert offset in VistoSeg::splitSlide_IF removing the top 2500 pixels before splitting the image corrects the offset 2023-07-24 REDCap build table error NA 2023-07-21 NM pigement segmentation overview for LC samples reffered to this script /dcs04/lieber/marmaypag/Image_Processing/NM_LC_segmentation/test.m 2023-07-20 Overview of image processing Visium and VSPG NA 2023-07-17 tif2mat conversion https://github.com/LieberInstitute/spatialDLPFC_SCZ/blob/main/code/vistoseg/lib_updated/tif2mat.m 2023-07-07 mat2tif conversion https://github.com/LieberInstitute/spatialDLPFC_SCZ/blob/main/code/vistoseg/lib_updated/mat2tif.m 2023-07-01 0% Vs 5% overlap and repeated signal issues in VSPG images referred here for clarification https://docs.google.com/presentation/d/1HJgkvlHtiIA5nucuNdHdYhRGAtpPPvASGFoAocqi1-U/edit#slide=id.g1163185b778_1_6 2022-09-09 Code to threshold small sized nuclei from the NaCC visium images NA 2022-08-09 VNS error wrong input was given to the function 2022-08-09 Strategies to pick threshold for cell size in segmentations NA 2022-08-09 open multichannel image in imagej should select virtual stack option in bioformats reader when opening and multichannel image in imagej 2022-08-08 code to ectract x and y coordinates of randomnly slected inform tiles for PNN project NA 2022-07-28 Pick randomn tiles for the PNN project Explain how to pick randomn images to train PNN segmentation algorithm 2022-07-19 Extracting final output into table code loops over the different file in the dataset and Marah was clearing it at the end of the loop every time which didnt let her save any data 2022-06-23 Adjusting thresholds for event detection using CaPTure NA 2022-06-10 explain spaceranger output files NA 2022-05-17 make modified tissue_positions_list from DLPFC IF samples for running spotsopcheck on mock PNN visium sample NA 2022-04-07 Hey Maddy, I need something called “spot size” on the 12 published DLPFC samples spot size and scaling factor from json file. explained how each metric is associated to different version of the histology images. 2022-04-07 https://github.com/LieberInstitute/VistoSeg/issues/12 Customized VistoSeg code to their histology images 2022-04-06 applying size threshold to vistoseg outputs to get rid of smaller regions that are not nuclei NA 2022-04-05 directed the person to the VistoSeg website for steps to run VistoSeg https://github.com/LieberInstitute/VistoSeg/issues/11 2022-03-22 Help run trial shiny app deployment Showed her app.R, deploy.R scripts and places where to edit, showed her how to navigate through the shinyapp portal to looks for logs when deploying the app. EXplained her few erros she ran through when deploying for the 1st time. 2022-03-09 VisiumIF loupe alignment The contrast adjusted images on MAC::preview should be saved and uploaded back to JHPCE to run spaceranger. Spaceranger needs the exact same image that was used in the loupe alignment (even if it is changed from raw image on preview) 2022-03-09 Masking of blood vessels from PNN channel in PNN project Explained how the image data can be manipulated when claudin5 channel and WFA channel are merged and then the blood vessels are segmented and masked. The correct way is to segment blood vessels from claudin channel and mask the segmented objects in WFA channel. 2022-03-09 How are InForm tiles arranged The indices listed in the tiles’s filename is the x,y coordinates of the starting topleft pixel of the given tile. These indices never start with [0,0] as these tiles are picked from the ROI in the phenochart and not the entire imaged area. Once stored in a directory these tiles are not arranged in chronological order. 2022-02-25 Data type change of image data when loading into Python Used KJ’s code from his rstats club presentation and described how the images shoukd be read using numpy array as uint32 but not floating https://colab.research.google.com/drive/1A4cavWcbgZF1PFQT87s5s_ATyZrN3IxL?usp=sharing 2022-02-23 contrast adjustment, intensity normalization, channel/gene description in PNN images used HALO to show how contrast can be adjusted when changing min max values in the image 2022-02-17 rename files on JHPCE through command line NA 2022-02-16 Provide comparison table for different metrics obtained from image meta data in MATLAB, for Visium IF workflow NA 2022-02-15 Explain Tangram, scRNAseq count matrix, spe object NA 2022-02-14 Explain the concept of Squidpy paper https://www.nature.com/articles/s41592-021-01358-2 2022-02-11 tiling and metadata changes in PNN project NA 2022-02-11 explaination on Image metadata, bit depth NA 2022-02-10 Need for rotation of visium array images and its spatial coordinnnate in spe object NA 2022-01-25 VistoSegIF pipeline explained the functions of this pipline as these are not yet documented 2022-01-21 Transfer data from JHPCE to Neural_Plasticity command to use rsync -avzh --progress userid@jhpce-transfer01:/source directory/ /destination directory/ 2022-01-21 Transfer data Neural_Plasticity to JHPCE use rsync, prepend spaces in the paths with \\ to avoid issues 2022-01-21 JHPCE directory organization, repo linking, making commits https://github.com/LieberInstitute/spatialDLPFC_SCZ/commit/43106c664883fd5df301e44cca35f2e8f2f289ad 2022-01-21 opening python, R, MATLAB console interactive session on JHPCE explain how to use IDE’s on local machine to edits scripts on JHPCE through cyberduck 2022-01-20 glitch in CAPTure tutorial about input data types to a function https://github.com/LieberInstitute/CaPTure/issues/2 2021-12-09 Removing smaller objects from VistoSeg segmentations refining segmentations in matlab by applying size thresholds 2021-12-08 applying kmeans to CA3 mouse RNAscope data to obtain gene expression levels Showed code how to scale data based on https://uc-r.github.io/kmeans_clustering and optimise kmeans for the present dataset 2021-11-18 running loupe browser for HPC images Showed the steps on one sample HPC image and what outputs to save. 2021-11-18 countSpots from VistoSeg throwing errors for one DLPFC sample from round4 While debugging, its seen that VistoSeg when splitting the raw image missed a part of fiducial frame for capture area D1 of that sample. This happens when the center of the visium slide does not align with the center of the image, which has ti be adjusted while imaging. This image when run through spaceranger provided negative coordinates for the missing fiducial frame part of the image, but MATLAB will not accept negative indices for a image, which was throwing errors when recontructing spot grind in countSpots function. 2021-11-18 Resolve issues with comments Showed how to close issues on git with detailed comments of the final results 2021-11-16 batch processing - dotdotdot, on local machine made custom Matlab script to batch process her 30 RNAscope images on her local machine 2021-11-15 error in transferring Visuim HPC data to JHPCE The user directories were cleared during the software updates for LIBD server, emailed bill to create one for me and Heena to use rsync on Neural_Plasiticity. The filenames Heena used for ‘source’ in rync did not exist at the source directory which was throwing errors. 2021-11-04 using awk to pick filename from textfile for a array job 2021-10-14 running spotspotcheck for SFN NA 2021-10-07 doubts on VistoSeg Explaination of why an index label M=3 was chosen for refineVNS in section 2.2. 2021-09-20 issues with regioprops function in dotdotdot https://github.com/LieberInstitute/dotdotdot/issues/14 2021-09-14 Fiducial frame enhancement for Visium IF images using preview on MAC NA 2021-09-14 running Loupe browser for mannual alignment NA 2021-09-09 Creating cyberduck bookmarks for JHPCE paths NA 2021-09-09 writing shell script for countNuclei function in VistoSeg NA 2021-09-09 Explaining Github issues, history and version control NA 2021-09-09 Explaining SPE (Spatial Experiment) SCE (Single Cell Experiment) objects https://files.slack.com/files-pri/T029RHR07-F024D7ELKC2/image_from_ios.jpg 2021-09-09 syntax error in shell script used back quote instead of single quote when assigning string to variables 2021-09-08 CellProfiler H&amp;E segmentations We decided to run CellProfiler on a while capture area image of DLPFC sample to look at the segmentations as it was doing good job on the cropped regions of a DLPFC sample 2021-09-07 Trouble with implementing RNAscope function for humans https://github.com/LieberInstitute/dotdotdot/issues/13 2021-09-02 Error running VistoSeg::spospotcheck (Error in spotspotcheck&gt;start (line 60)) The H&amp;E image that he was segmenting and the H&amp;E image for which he gets the ‘json’ and ‘csv’ are not the same images or at least not the same resolution which is causing the error. 2021-09-02 Error while running rnascope_mouse - line 159 https://github.com/LieberInstitute/dotdotdot/issues/12 2021-08-30 parameter tuning for dotdotdot to split the nuclei clusters NA 2021-08-30 improve lipofuscin masking in dotdotdot NA 2021-08-30 dynamically name structures in matlab based on user inputs used the command ‘eval’ 2021-08-23 Explain how to merge 2 data tables in R NA 2021-08-23 Explain public keys and the authorized_keys file on JHPCE, removed duplicate public keys for the local machine to resolve ssh key login NA 2021-08-21 resolving issues with multiple keys in the authorized_keys file NA 2021-08-18 explanation of the methods and algorithm of a paper we are reviewing together NA 2021-08-11 steps to resolve image segmentation of LC heated samples round 2 NA 2021-07-20 Optimizing DAPI segmentation in dotdotdot https://github.com/LieberInstitute/dotdotdot/issues/11 2021-07-15 Explain how awk works showed a example of how AWK extracts text lines from a text file 2021-07-15 Issues with SUFI Explain how some scripts in SUFI run and the bash scripts to use in place of python scripts for batch processing 2021-07-14 Resolve errors produced by dotdotdot on SUFI output Referred to Vijay’s notes 2021-07-14 R Code to create list of files to be processed through VisiumLIBD NA 2021-07-14 Setup aliases in bashrc NA 2021-07-09 recreating spatstat plots with more features used ggplot 2021-07-09 Helping understand errors from VisiumLIBD NA 2021-07-09 Helping understand errors from VisiumLIBD NA 2021-06-24 making a list of filenames in a specific folder and subfolder in R used Sys.glob and write.table to write the list to txt file 2021-06-24 Rectified issues for batch running emma’s RNAscope data NA 2021-06-24 create shell script for batch running images on VisiumLIBD NA 2021-06-01 troubleshoot SUFI output and figured it was not compatible with dotdotdot NA 2021-04-15 running and trouble shooting VisiumIF image splitting code NA 2021-04-09 Resolving issues with running dotdotdot on 20X RNAscope images NA 2021-04-09 runnning Hiplex registration NA 2021-04-01 creating logs for issues from running SUFI (spectral unmixing of fluorescent biological images) explaination of nurolucida system, how number of cores and RAM matter for running SUFI 2021-03-30 steps to troubleshoot issues with stitched multi tile RNAscope images NA 2021-03-24 running nucleiCount for spatial DLPFC samples explaination of scale_factors.json, tissuepositions_list.csv from spaceranger and the spotspotcheck package 2021-03-23 extracting p-values from linear mixed effect model for Calcium imaging data NA 2021-03-17 visium image segmentation explaination of the functions VNS.m and refineVNS.m 2021-03-17 troubleshooting memory usage for VNS function from VisiumLIBD when running VNS.m for several files on same matlab session the data from previous sessions is saved in matlab cache memory automatically. This will cause memory issues with subsequent runs, its important to clear variables after every run. 2021-03-12 split histology images into respective capture areas ran her through an example, explained her the code on github repo (split.m is the main script) 2021-03-12 x-quartz installation edited the config file for setting up x-quartz 2021-03-06 resolve figure generation error in human rnascope script from dotdotdot fixed the github repo 2021-03-05 image analysis on QuPath explore loading/saving/exporting options on Qupath 2021-02-26 data transfer from LIBD server to JHPCE use rsync 2021-02-26 Submitting/debugging bash job for dotdotdot on cluster Debugging through the input/output file in logs 2021-02-19 explaination of Owner/Group/Other permissions for files on JHPCe running chmod 2021-02-12 download repository from github to cluster and run dotdotdot on cluster Used Amy’s rstats blogpost on git 2021-02-05 JHPCE ssh keypair set up We got Heena’s MAC registered for passwordless login to JHPCE 2021-02-05 dotdotdot parameter tuning for Ema’s rat RNAscope data NA 2020-12-03 run dotdotdot pipeline local computer and cluster got through the Github vignettes thoroughly 2020-12-03 how to open matlab (GUI and command line) on JHPCE NA 2020-12-01 how to connect to LIBD servers on windows and mac NA 2020-11-19 data transfer from LIBD server to JHPCE to use rsync or scp, you need to have user account created on LIBD server (Bill can help create it) 2020-11-19 download matlab on local computer through JHU software portal NA 2020-11-04 3D volume extraction in Matlab https://www.mathworks.com/matlabcentral/answers/636365-how-can-i-measure-volume-from-a-3d-image?s_tid=srchtitle 2020-10-28 customize dotdotdot to his data NA "],["nick.html", "9 Nick", " 9 Nick Date Help request Notes 2024-03-19 Troubleshooting misaligned image in Samui I pointed to suspicious areas of code where dataset-specific regexs were originally used, though the regexs looked good for his data as well. We decided to interactively walk line by line at a later date 2024-03-15 Plotting to a multi-page PDF with 3 plots per page I suggested building a list() where each element was a 3-piece plot (combined with a function like cowplot::plot_grid), then using print(plot_list) 2024-03-13 Installing cellprofiler at JHPCE I suggested using conda after pip failed (missing system dependencies). Ultimately, my troubleshooting was enough to just build a module for everyone 2024-03-07 Adding notes to Samui I described how a markdown of notes could be added using the Samui python API, though this is not how I had done it in a previous project ( I was unable to trace the original method I used) 2024-03-05 Better algorithm for dealing with overlapping images in Samui I helped him implement an algorithm taking the minimum pixel intensity in case of overlapping images to display an H&amp;E image in Samui 2024-03-04 Setting up SSH keypair for passwordless login to JHPCE I diagnosed several potential issues, ultimately missing one detail that was the culprit: permissions were too open on some .ssh files on her laptop 2024-02-16 Adding phenotype data to coldata I described my typical strategy of using left_join by sample ID, as well as ensuring rownames don’t get lost from conversion to a tibble (thus dropping colnames from the SummarizedExperiment unintentionally) 2024-02-12 Adding packages to a custom R module I noted that the r_nac module was built similarly to conda_R, where the user doesn’t have to do anything special to install more packages. We ultimately traced the issue to permissions problems on files created as part of the proper use of the module by other users, likely due to problematic ‘umask’ settings 2024-02-05 Follow-up: removing large files from version control I ultimately recommended ‘git reset –soft’ to the commit ID before the recent mistaken addition of the large files 2024-02-02 Troubleshooting GitHub authentication issues I advised using the SSH address (not HTTPS) for the ‘git remote’, ensuring the ‘git config’ email matches the primary GitHub email, and using the up-to-date SSH key (not RSA, which is no longer supported/ recommended) 2024-02-01 Removing large files from version control We explored options: BFG cleaner, git rebase and git reset –soft and discussed which was best for her situation 2024-01-30 Working with SLURM I described the use of ‘srun’ (including with X11) vs. ‘sbatch’, and generally recommended ‘sbatch’ where possible to document how analyses were run/ ensure reproducibility 2024-01-26 Running python on cluster I mostly focused on my setup using VS code with its remote SSH extension, and custom keyboard shortcuts for running python code interactively 2024-01-26 Creating a module I mostly confirmed the general process he had started for a particular module made from software packages as a precompiled binary 2024-01-24 Follow up on stitching for Samui I described how code might change when using IF images rather than H&amp;E, for which the code was originally developed 2024-01-08 Creating stitched image in Samui from ImageJ estimates I described how to adapt a script I wrote for NAc to her dataset, where the goal was simply to display a stitched-together image in Samui 2024-01-05 Investigating visual problems in Samui image I traced the issue to the use of 8-bit integers, where an overflow occured during normal addition of pixel values (the solution was to use floats while computing the mean, and then convert back to uint8) 2023-12-12 Help adding phenotype info to colData I described how I typically use dplyr::left_join, as well as how to add back missing rownames to the colData (or colnames of the SummarizedExperiment) 2023-12-11 Investigating R package installation conflicts I described the conflict between SGE and SLURM R packages, as well as identified lock files preventing re-installation of problematic packages 2023-12-08 Investigating error in qSVA funtion call We traced the offending line of R code in the qsvar package and I described how unit testing could identify problematic function arguments and give more informative error messages 2023-12-08 Performing ‘jaffelab::s’ on large tibble efficiently I noted that the function could be applied before the data was converted to long format, where it was impractically large to work with 2023-12-08 Follow up on stitching for Samui We identified issues causing incorrect coloring in the Samui outputs 2023-12-05 Creating stitched image in Samui from ImageJ estimates I described how to adapt a script I wrote for NAc to his dataset, where the goal was simply to display a stitched-together image in Samui 2023-11-21 Overview of image stitching process I described the workflow for stitching Visium capture areas with Samui, and various Samui API functions like ‘add_chunked_feature’ that are helpful 2023-11-08 Modifying a global-scope variable inside a function I showed a workaround for making sure a variable has global scope before editing it inside a function, though I noted it’s better not to use a function in her particular case 2023-11-01 Issues linking repo to github I identified two separate issues: the repository name and using HTTPS remote instead of SSH 2023-10-30 Interpreting decision tree and spot-deconvo plots I walked through how a decision tree works and can be interpreted, then described how correlation and RMSE are computed in a couple spatialDLPFC spot deconvo plots 2023-10-30 Issues with tensorqtl module He noted that the wrong version of python was being used, and we eventually traced this to user-specific conda settings interfering with the module 2023-10-25 Interpretation of “replication” plots and performance of QSVA models We interpreted the intuitive meaning of a formula from some old code, which attempted to quantify the similarity of a set of significant genes between datasets. I also helped interpret the meaning of a plot based on this metric 2023-10-24 Example datasets and getting started with data science I recommended ‘spatialLIBD::fetch_data’ for easy retrieval of public data to get started with spatial computational analysis. I also recommended pushing for an account at JHPCE, where computational resources are more plentiful, and getting used to submitting jobs, accessing software, etc is valuable to learn 2023-10-17 Nextflow issue when running SPEAQeasy I noted that conda_R seemed to be changing the version of java loaded, which affected how the nextflow module worked. I recommended unloading conda_R and avoiding the loading of conda_R via the .bashrc 2023-10-16 Setting up and running SPEAQeasy on a new cluster I described the general process of setting up SPEAQeasy and gave recommendations for his cluster: using singularity and SLURM-based installation/ set-up 2023-10-13 Installing SPEAQeasy and setting up main script I mostly covered documentation but also the appropriate options for his particular data 2023-10-13 Troubleshooting a SPEAQeasy error I investigated a “failure to submit process to scheduler” error using ‘sacct’ and similar commands, ultimately discovering the issue was related to SLURM configuration. There was an email chain with bithelp to follow up 2023-10-11 sbatch issue with SPEAQeasy I followed up with bitsupport, as the issue seemed to involve some failed DNS query internal to SLURM, rather than SPEAQeasy 2023-10-11 Interpreting and refactoring “concordance” formulas in QSVA results We walked through old code which aimed to quantify the similarity between significant DE results, interpreting formulas from the code and constructing more intuitive formulas 2023-10-04 Refactoring QSVA code I gave general advice on re-writing code– keeping separate scripts, chunking code into segments and testing equality of outputs between old and new code after each chunk, and other strategies 2023-09-28 Dropping extra factor levels I described the ‘droplevels()’ function, designed to remove unused factor levels 2023-09-27 Confidence metric in spot deconvo model I discussed how we selected training data for the spot-deconvolution image model– using logistic regression to compute a confidence metric across the original training examples, that we then binned into 4 quartiles to re-select new examples to label in a less biased way 2023-09-26 Array jobs over variables with SLURM I mentioned slurmjobs::job_loop and also described how to use it in conjunction with getopt in R for looping over several variables 2023-09-25 SGE vs. SLURM R package conflicts She had an issue installing a particular R package, which we pinpointed to which modules were loaded (including via bashrc). I also described the general problem of SLURM and SGE versions of JHPCE sharing a library path, which could result in subtle problems. I recommended deleting SGE packages (better would’ve been backing up!) and reinstalling on SLURM 2023-09-19 Customizing the home page for spatialLIBD apps I noted the ‘www’ directory (or the directory passed to the ‘docs_path’ parameter) controls the home page, and we typically use a relative soft link to the main repository README for the bulk of the content. 2023-09-19 Overview of the stitching process for split Visium samples I described the general workflow, involving ImageJ, Samui, VisiumStitcher, and custom R + python code needed to eventually produce SpatialExperiment objetcs with one donor per sample. I focused on the high level of what the Samui piece looked like/ how much work is involved 2023-09-12 SLURM array jobs and X11 I showed code examples of writing array jobs with SLURM (and how it compares to SGE), then diagnosed an X11 forwarding issue where the ‘-x11’ srun option was insufficient. Adding X11-related configuration in the SSH config fixed the issue (i.e. ForwardX11 and ForwardX11Trusted lines) 2023-08-28 Creating documentation sites with bookdown I described the pieces that go into a bookdown-powered documentation site, showing RMD code examples and the GHA workflow that deploys the site 2023-08-23 Displaying info about cells, not spots in Samui I noted that Samui supports many types of features, and the spatial coordinates of cells can be supplied instead of spot coordinates to display features related to cells 2023-08-22 Interpreting spot deconvolution results I described the meaning of cell2location outputs and how to compare outputs between software tools. I also described where plots came from in R 2023-08-17 Missing genes in Samui He noted that not all measured genes were displayed in the Visium_SPG_AD project. I found in the code why I subsetted and made a GH issue to fix it 2023-08-16 My coding set up I shared my favored set up for getting computational work done: working directly on JHPCE via the SSH extension for VSCode, using system-wide JHPCE modules for consistent software versioning, and X11 for interactive plotting (with a note I tend to just create and view PDFs for complex plots) 2023-08-16 Recommendations for learning more data science skills My major recommendation was learning version control with git, though I also mentioned learning SGE/SLURM also is a valuable skill for larger-scale coding projects. I helped him create a git repository for his current project (including account set up) and described the basics of git add, commit, and push 2023-08-14 Misc spot deconvolution questions I described how the various scripts connect in spatialDLPFC for my work with deconvolution, to help share and re-use them for her project 2023-08-11 recount 3 permissions I explained the status of the recount-pump transfer, where files were, and noted that chris or JHPCE admins would have to change permissions to allow her access to some files 2023-08-11 Using modules at SLURM and configuring bashrc I noted that modules at SGE vs. SLURM are totally disjoint, and that the HOSTNAME trick originally used in the team recommended bashrc didn’t (at the time, though this has recently changed) work anymore, and the SLURMD_NODENAME variable can instead be used to infer where the user is 2023-08-09 Using Samui from start to finish I did a complete tutorial of using the Samui API to create Samui-importable directories, including how to preprocess image files and how to host results publicly 2023-08-07 Normalizing spot deconvolution results to answer biological questions of interest He noted that just taking the most plentiful cell type in any cluster was leading to too many clusters with excitatory layer-5 cells. I mentioned that the raw outputs of spot deconvolution tools are fairly unreliable, but they still carry useful information when normalized. For his example, I mentioned dividing by the total number of cells for each cell type when making comparisons between cell types 2023-07-27 Quantifying spatial promiscuity of genes across clusters I mentioned (information) entropy as a metric that would determine how well a gene is confined to a particular cluster (using average counts of a gene across all spots in each cluster, then normalizing the sum to add to 1), but cautioned that I wasn’t familiar with favored metrics within the field 2023-07-25 Troubleshooting GHA workflow errors when building workshop I helped discover the source and solutions to errors and warnings (mostly from BiocCheck and R CMD check), and found how to specify a single author in in-text citations 2023-07-19 Spot deconvolution workflow overview I pointed her to spot deconvolution scripts used in spatialDLPFC and the high-level overview of the workflow, as well as how we trained the decision tree classifier 2023-07-18 Loading large files in R I noted that he ran out of memory in his JHPCE job, which crashed R, so I suggested increasing ‘mem_free’ and ‘h_vmem’ 2023-07-17 Sharing conda environment I referred to examples of JHPCE modules I’ve created that activate shared conda environments, and explained the key commands used to get a similar module working 2023-07-12 Performing QSVA with genes or with different annotation I recommended finding and trying to generalize the process Josh followed to produce the list of degradation-associated transcripts, to limit relying on exact transcripts with an exact GENCODE version. I noted that you can convert transcript data to genes (albeit with lost information), but not vice-versa, so in theory either transcript or gene-level data could be supported by converting to genes 2023-06-09 Displaying spot coordinates in Samui I described the ‘add_coords’ function, how features link to existing coordinates, and that coords must have at least one associated feature to display 2023-06-08 Using the Samui API to display data locally I referred her to recent versions of my code (spatialDLPFC and SPG_AD projects) and walked through the high-level steps of each 2023-06-07 Troubleshooting SPEAQeasy error I showed that the error was essentially a failure to allocate memory and recommended doubling required memory for the failing SPEAQeasy process until success 2023-06-02 Ignoring a directory with gitignore I described that an entire directory (rather than all of its contents) can be ignored, and should be specified relative to the directory containing the .gitignore 2023-06-02 Debugging rewritten code We looked at some old code vs. an adapted version, which was not producing the same output. I recommended splitting the code into ordered sections, and executing the old and new version of each to identify exactly where the error was occurring 2023-06-01 Troubleshooting unexpected SPEAQeasy output I discovered she was using the –small_test argument and not –input, so only the small 3-sample test set was running instead of her actual data 2023-05-26 Interpreting spot-deconvolution plots I walked through the meaning of certain information-dense plots I made to show spot-deconvolution results 2023-05-25 Subsetting RSE by chromosome I recommended filtering rows of the RSE via ‘seqnames’, which would return genes (or features in general) of the particular chromosomes needed 2023-05-25 SPEAQeasy defaults She asked about any quality-check-related options SPEAQeasy had (I pointed her to ‘–ercc’ for applicable data) and whether trimming defaults were reasonable for her data 2023-05-24 Using Samui’s API to visualize spatial data I described the general workflow needed to start from raw images and spaceranger outputs, and end up with a Samui-compatible directory that can be dragged into the browser (locally) to view Visium data (including segmented fluorescence channels) 2023-05-18 Creating many configuration files differing by one variable I suggested creating a template configuration file, then looping through her data, using the sed command to write configuration files with the relevant variable replaced from the template 2023-05-18 Merging two dataframes She wanted to add the columns associated with unique rows in one data frame to the other, so I suggested combining the ‘unique()’ command with ‘left_join()’ 2023-05-17 Renaming many files by a pattern I suggested using regular expressions in R to get the new filename from a given old filename, then file.copy to perform a safe test, and finally deleting the old files 2023-05-16 Help with SSH keys with GitHub She was unable to push to GitHub on her laptop. It appeared she didn’t have an SSH keypair set up with GitHub, so we set that up to fix the issue 2023-05-02 Interpreting SPEAQeasy metrics I described typical expected alignment rates, the difference between concordant and overall map rate, and details about other SPEAQeasy output metrics 2023-04-25 Creating a blog post on the rstats website I explained that at the time, I just created the RMD file and added any referenced images to the rstatsclubsource repo, following naming conventions that include the post date and hyphens between words in the blog title. I believe Leo did some manual work to get it fully published, so I referred to the full guide in case my method was incomplete: http://research.libd.org/rstatsclub/2018/03/09/contributing-to-the-libd-rstats-club/ 2023-04-21 Ensembl IDs vs. gene symbols with cell2location I explained how cell2location is agnostic to what gene identifiers are used, but that gene indentifier type must match between spatial and reference single-cell data. I mentioned the org.Hs.eg.db package. 2023-04-19 Modules and reproducible software set-up for python I described when I make a module for python-based tools, the benefits of conda vs. python virtual environments, and related topics 2023-04-17 Properly tracking git contributions I suspected improper configuration of email associated with her git commits, which was indeed the problem. Her commits moving forward are associated with her GitHub account, but we couldn’t figure out how to retroactively regain credit for commits done with the wrong email 2023-04-14 When and how to merge git branches I described ‘git pull’ to merge in remote changes, and using the ‘vi’ editor to write a merge message 2023-04-10 Information needed for Samui I explained which paths I’d need to get Samui running on our data, and we discussed which features might be useful to show 2023-04-07 Properly transferring from dcl01 to dcs05,dcs04 I described how ACLs are properly set up at dcs05 to inherit downward automatically, so just an ‘rsync’/ move to trash is necessary in those transfers 2023-04-06 Git-LFS error messages I explained the purpose of Git-LFS, that it’s configured for certain repositories, and that we can load a module to use it 2023-04-04 Configuring X11 for plotting at JHPCE I described my use of XQuartz, the ‘xhost +local:’ command, and the proper ordering of these tools in combination with SSHing to allow plotting to work 2023-03-28 Creating modules at JHPCE I described what we use modules for, the general approach to making them for common software types (binaries, python packages), and walked through the process by making a new FastQC module 2023-03-22 Using git and RStudio to work with R Markdown files I helped him set up git on his laptop (username + email, SSH key), showed how to edit R Markdown files using RStudio, and basic version control (git add, commit, and push). 2023-03-22 SPEAQeasy error The error message was cryptic, but made more clear in the latest SPEAQeasy: the transcripts FASTA mismatched with the GTF (custom annotation was used) due to a typo in the gene ID in the GTF. 2023-03-15 Quantifying a single gene not in SPEAQeasy’s default reference I initially mistakenly suggested kallisto, but later clarified that using featureCounts with a custom single-gene GTF from the BAM files (produced by SPEAQeasy) would be the proper way to quickly quantify a single gene 2023-03-08 Finalizing genotyping + expression script We discussed how to merge two datasets in R, making sure they shared the exact set of genes 2023-03-01 Version controlling renamed directories I described the need to ‘git add’ both the old filenames and new filenames, and the use of ‘git add –all’ to reference deleted files. 2023-03-01 Miscellaneous R questions I recommended code for matching two data frames up by common genes, and explained that matrices don’t support multiple data types (instead a ‘data.frame’ might be used) 2023-02-15 Using a gitignore to not version control specific files I showed how glob expressions can be used to conveniently match many files across potentially several files, and described gitignore-specific rules, such as certain wildcard expression matching files no matter what directory they are in 2023-02-06 Adding figures to OneDrive and google docs with CrossReference I went over details like naming the OneDrive folder and correctly using CrossReference to refer to that name in figures and references to those figures 2023-02-03 Organizing figure components for Illustrator I helped port several plots into Illustrator as a figure, describing our normal process of using PDFs and linked files to maintain resolution. 2023-02-01 Lining up gene expression and genotyping data I showed how to filter for individuals with a certain condition, and subset two data frames with the same criteria. 2023-01-25 Setting up GitHub SSH keys She was unable to clone private repositories due to a problem with her SSH key with GitHub. We solved the problem by setting up a new key pair using the recommended Ed25519 algorithm instead of the deprecated RSA algorithm. 2023-01-25 Managing software dependencies with Nextflow We focused mostly on the options Nextflow provides for managing software dependencies: Lmod modules, conda environments, and docker + singularity containers and the benefits of each potential approach 2023-01-20 SPEAQeasy error We identifed that SPEAQeasy cannot handle runs with only one sample, but that the intention was to use multiple samples (the manifest did not use unique sample names) 2023-01-18 Integrating R scripts with Nextflow We went over several concepts in Nextflow (e.g. processes and channels) and discussed how to invoke R scripts inside processes. 2023-01-10 Help identify the source of unexpected NA values We uncovered the source of some unwanted NA values in some genotyping data and eliminated it by removing some code 2023-01-03 Adapting spot-deconvolution code to new data We talked about how to compute KL divergence between 2 groups of cell-type proportions on her data using a variation of my code 2022-12-06 resolving a merge conflict I described the manual process for resolving a merge conflict with git when git cannot automatically merge two branches 2022-12-05 Identifying the source of an error We pinpointed an error message as being due to trying to find the ‘colData’ of a list containing Summarized Experiments rather than calling ‘colData’ on the SummarizedExperiment itself 2022-12-01 coloring plots by a continuous variable I described how to color ggplot2 plots by a continuous variable, adjust the palette, and other ggplot-related syntax/tricks 2022-11-30 wrangling and reformatting expression data I recommended some data-preprocessing steps for later downstream manipulation of the data 2022-11-23 preprocessing and reformatting genotype and expression data I gave general advice for how to preprocess some data, including changing data types, transposing matrices, and dropping columns to format things for a collaborator 2022-11-16 organizing plots and output files I described ‘facet_wrap’ and showed that for some situations, ‘plot_grid’ with a single output PDF (with width and height scaled appropriately) does well 2022-11-15 understanding linear mixed-effects models We generally discussed linear mixed effects models and some common terms used as fixed effects in genomic data 2022-10-28 formatting genotype data into a matrix for each gene I described how to transpose matrices, change their type, drop columns, and related tricks to solve a data-formatting problem asked by a collaborator 2022-10-13 Lifting results between hg19 and hg38 I mentioned rtracklayer::liftOver and showed a code example of lifting over genomic coordinates for a SummarizedExperiment 2022-09-26 Setting up SSH keys between login and compute nodes I described the need for SSH keys between the login and compute nodes at JHPCE, and how an incorrect set-up will manifest as a prompt for your password when using ‘qrsh’. I referenced https://jhpce.jhu.edu/knowledge-base/authentication/ssh-key-setup/ 2022-09-23 Setting up SSH keys for JHPCE We debugged her SSH set-up with JHCPE, finding a syntax mistake, confirming the contents of the ‘.ssh/config’ file, and other details to ultimately get the traditional RStudio + JHPCE set-up working smoothly. We touched a bit on the process for using git from JHPCE but didn’t finish fully setting things up 2022-09-16 Interaction between .bashrc and ‘module load’ in ’qsub’d scripts I described how ‘module load conda_R’ lines in a submitted shell script override the default version of R that can be loaded by default using the ‘.bashrc’. In this case this undesired interaction caused a corrupted R package to load and return an error 2022-09-16 Modifying a shell script to segment a VCF by genomic region We adapted someone else’s code, slightly changing some awk commands to use cut (which I’m more familiar with) and using a for loop rather than piping a file to a while loop. This allowed the code to work as intended on the data 2022-09-12 Setting up SPEAQeasy at JHPCE I pointed to installation guidelines for the cluster to resolve issues about R packages not being installed and a problematic nextflow version. 2022-08-24 Use of git from multiple local locations I described how to smoothly ‘git pull’ when updates have been made to both the local and remote repo (adding + committing local changes, running ‘git pull’, and handling a smooth merge) 2022-08-22 Moving and correctly accessing HDF5-backed SummarizedExperiments I described proper saving and loading of SummarizedExperiment derivatives whose assays are HDF5-backed using the HDF5Array package, and how to convert between HDF5-backed objects and “ordinary” in-memory objects 2022-07-18 CUDA issues with cellpose module We worked through a few issues in the cellpose module, which each had a different cause. In one case, the version of torch/CUDA was outdated for the hardware. In another case, user-specific libraries were being referenced instead of the central module’s libraries. 2022-07-13 Addressing SPEAQeasy error messages The error messages involved a mismatch between sample ID and file name for the ‘QualityTrimmed’ process, as well as a supposed missing ID in the manifest (which was actually present). Simply resuming the pipeline got rid of both errors. 2022-07-06 Setting up SPEAQeasy I described how to configure SPEAQeasy for a particular dataset, and how to manage two separate runs of SPEAQeasy as part of a different git repository (requiring the use of submodules) 2022-07-01 Question about how ‘mitoRate’ is calculated in SPEAQeasy I showed the documentation’s description of ‘mitoRate’ and linked to the code where it’s computed: https://github.com/LieberInstitute/SPEAQeasy/blob/bfe4e664281b52c5e239e372393a8aea36084e0d/scripts/create_count_objects.R#L521-L533 2022-06-29 zellkonverter error and guidance using SpaGCN I described the need to manually convert some spatialExperiment slots prior to conversion with zellkonverter, and that some data types are not supported. I pointed to my SpaGCN code and the lines specifically responsible for clustering + writing outputs 2022-06-23 pulling in external changes to a git repository I described when ‘git pull’ can be “safely” used, and when ‘git reset’ might have to be used beforehand 2022-06-21 help installing ‘jaffelab’ I described the use of ‘remotes::install_github’ for GitHub-based packages. We encountered a GitHub authentication error that was solved by running the R code ‘Sys.unsetenv(“GITHUB_PAT”)’ prior to the normal installation command. 2022-05-05 Guide to creating a module at JHPCE I described the two JHPCE-based repositories we push to (https://github.com/LieberInstitute/jhpce_mod_source and https://github.com/LieberInstitute/jhpce_module_config), my usual installation approach for python-based GPU-utilizing software, and the contents of the lua-based config enabling a module to load. 2022-04-29 creating a nextflow pipeline and supporting docker I clarified the usage of nextflow channels, described when docker integration is likely to be worthwhile, and answered other general questions about processing data with a nextflow-based workflow 2022-04-01 Using the “redstone” software After identifying that ‘redstone’ was a precompiled binary for Linux, I described how to use ‘wget’ to download software like this, set execute permissions if necessary, and run at JHPCE. 2022-03-25 Input files for custom annotation with SPEAQeasy I recommended some adjustments to a custom GTF and transcripts FASTA to solve an error seen in SPEAQeasy where transcripts and annotation were found to be incompatible. 2022-03-17 Follow-up on custom annotation with SPEAQeasy An error occurred in a SPEAQeasy run, which I identified to be due to not providing all the required inputs (specifically the sites at which to perform variant calling) 2022-03-16 Adding lines to a GTF for use in SPEAQeasy with custom annotation We both verified additional transcript annotation added to a GENCODE GTF looked good for use as input to SPEAQeasy 2022-03-14 Error message running SPEAQeasy An error occurred in the counts step, which I discovered was a bug in some filename-matching code 2022-03-09 Setting up passwordless login I described two-factor authentication vs. passwordless login via SSH keys, and gave tips to set up the latter. 2022-03-09 Using custom annotation with SPEAQeasy I described how to add additional transcripts to the relevant FASTA file then use SPEAQeasy’s custom annotation option to use the new FASTA with the other default annotation files. 2022-03-04 Using the caracol queue I described how requesting ‘caracol’ is similar to requesting ‘bluejay’, but elaborated on additional complications, like contention for the same GPU and using CUDA_VISIBLE_DEVICES properly, including with array jobs 2022-03-02 Generating bigWigs with SPEAQeasy I referred her to the ‘–coverage’ option with SPEAQeasy, which unfortunately cannot be run alone, which might be useful for an already-processed dataset 2022-02-07 Debugging seg fault with tensorqtl module We tried to discover the source of a seg fault that would occur when she imported tensorqtl in python with the tensorqtl module. Another user and I weren’t able to replicate the issue. We later discovered that there were lines in her .bashrc that might’ve interfered with the module to produce the issue. 2022-02-04 Using tensorqtl with a GPU I described how to qrsh/sub jobs with the GPU node, including how to automatically set up ‘CUDA_VISIBLE_DEVICES’ to avoid contention for resources, and how to use the tensorqtl module to ensure GPUs were used when importing pytorch 2022-02-04 X11 and SSH issues After ensuring our apparent Rstudio set-ups on our windows machines matched, she still wasn’t able to forward X11 while using Rstudio. Regarding a different issue, we discovered that a particular machine required additional lines in the ‘~/.ssh/config’ to properly enable RSA keys. 2022-01-21 accessing the ‘gpu’ node at JHPCE correctly I described how it’s accessed as a queue, but some manual work is left to the user (checking which GPUs are open and setting ‘CUDA_VISIBLE_DEVICES’) 2021-12-15 creating a ‘samples.manifest’ and choosing trimming settings I described how I normally deduce sample IDs from FASTQ filenames when creating a ‘samples.manifest’ file for SPEAQeasy, described the difference between ‘–trim_mode’ settings that SPEAQeasy supports, and showed how to check what samples were trimmed. 2021-11-17 using ‘list.files’ in R I described using regular expressions in R to match files in a directory. We encountered a weird case where ‘list.files’ seemed to return different numbers of matched files when run repeatedly. After ensuring we were in the right directory, the issue went away, but it was unclear what caused the original problem. 2021-10-06 help with git I explained how I get out of the situation where files that are too big get accidentally committed (using ‘git log’, ‘git reset –soft’, and other details) 2021-10-04 debugging SPEAQeasy errors We worked through an error message from the ‘VariantsMerge’ process, uncovering (arguably) a bug in SPEAQeasy, and I advised how to temporarily circumvent the problem. I also suggested a command for renaming a set of files that initially broke SPEAQeasy’s assumptions. 2021-09-22 help with ‘umask’ and git I talked about how Linux does not allow creation of files w/ execution permissions set, regardless of ‘umask’ settings such as in the ‘.bashrc’. I also explained how I use branching with git and other tips for managing a repo that others also develop on. 2021-09-10 merging FASTQ files automatically via SPEAQeasy We downloaded a metadata table from SRA and parsed it through R to programatically create a “samples.manifest” file for use in SPEAQeasy, that merged samples that were each split into multiple FASTQ files. 2021-09-03 identifying SPEAQeasy error SPEAQeasy would appear to run into “file not found” errors for just a handful of random samples in a large dataset. I eventually traced the error to a disk mounting issue on a particular compute node, which was resolved through bitsupport. 2021-08-26 resuming SPEAQeasy after an issue in the counts step I mentioned that she encountered a bug that was fixed in a more recent version of SPEAQeasy, but suggested she manually add a line of code temporarily so that she could resume the run before updating 2021-08-25 downloading FASTQ files from SRA I referred her to a script I had written in the past that contains the required commands and configuration (with comments) for using the SRA toolkit 2021-08-06 Forming a data frame from data in multiple files I showed a fairly standard method for concatenating tabular data from multiple files into a single matrix, and saving the resulting R object 2021-07-14 debugging SPEAQeasy errors I described correct use of the “–input” argument, and we also found that many of the input FASTQs were empty, leading to a somewhat vague error message. 2021-07-14 getting SPEAQeasy running In a series of email exchanges we diagnosed subtle errors resulting from bad FASTQ files and unintended options in the main script. Her feedback helped me improve some existing documentation. 2021-07-13 formatting a LaTeX document and bookdown website I attempted some formatting tricks to eliminate unwanted whitespace but was ultimately unsuccessful. We suspected the LaTeX template required the whitespace to exist. We also tried to fix a bug with the header of a bookdown RMD not rendering as expected. It seemed that re-writing the header (without making any visible changes) fixed the issue, though we weren’t sure of the source of the initial problem. 2021-07-02 Help indexing a possibly corrupt VCF file We confirmed that an existing VCF was corrupt and found that tabix expected bgzip-compressed VCF input rather than compressed BCF input. 2021-06-30 Specifying output logs on SGE I briefly mentioned the “#$ -o” and “#$ -e” arguments, and how several logs will generate in your home directory without those arguments and without “#$ -cwd”, when “qsub”ing a job at JHPCE. 2021-06-16 addressing SPEAQeasy error we talked about how to use the “–strand” option, the source of the error that was encountered 2021-05-19 Making a module We went through the creation of an LIBD JHPCE module, covering the documentation process, lua syntax, and how to test a module before pushing. 2021-05-19 Configuring a parallel series of bash scripts We adapted a series of bash scripts requiring parallel functionality for use at JHPCE. This involved correctly setting some path variables and requesting multiple cores through SGE for some scripts. 2021-05-13 Setting up a SPEAQeasy run I described how I typically construct a “samples.manifest” file and configure SPEAQeasy for a particular experiment. 2021-05-03 Running SPEAQeasy- follow up We observed an issue where log parsing in SPEAQeasy behaved differently for Sreya and I due to a difference in default python version loaded at JHPCE. I fixed the hisat2/2.2.1 module to ensure consistent python version use. 2021-04-28 Constructing an array job from an existing sequential shell script I showed how I typically produce an array job shell script for the situation where I have many samples of data to process the same way (SIMD). We talked about using a text file where each line contains one sample name, and referencing that in the array script. 2021-04-26 Running SPEAQeasy- follow up We discussed how to handle strandness issues, and how different inferred strand patterns within a group of samples sequenced together can indicate problems with the input data. I described how to use the ‘–force_strand’ option with SPEAQeasy 2021-04-22 Running SPEAQeasy We went through cloning SPEAQeasy, creating a “samples.manifest” file with R, and other relevant details for running SPEAQeasy at JHPCE. I also helped Henry set up git at JHPCE 2021-04-22 Running SPEAQeasy- follow up We troubleshooted strange errors from the main SPEAQeasy output, and saw that I was able to run the main script (“run_pipeline_jhpce.sh”) but Sreya encountered errors with an identical script. We suspected permissions issues in her working directory, which she emailed bitsupport about. 2021-04-19 Running SPEAQeasy Although we encountered permissions issues, I showed how to create a “samples.manifest” file and configure SPEAQeasy for a particular set of samples. 2021-04-12 Running the old RNA-seq pipeline on some SRA data I showed my typical process for creating a “samples.manifest” file for a given dataset, and how to submit a pipeline run. We continued to debug some minor issues over slack 2021-04-07 Nextflow overview for work with imputation pipeline I covered various nextflow concepts, as well as my typical approach in creating and running a nextflow project at JHPCE 2021-03-22 Using an LIBD module I described the need for the “module use” command and modifying the .bashrc to easily use LIBD modules 2021-03-18 Download SRA data and run SPEAQeasy I fetched the SRA files, created a manifest and execution script for SPEAQeasy, but had an issue running “fastq-dump”. I decided to hand off the request, partially complete. 2021-03-10 qSVA explanation and code review Josh walked me through some code performing qSVA for a recent project, and I offered some tips involving code organization/ readibility. 2021-03-03 Advice for writing papers We discussed how Sciwheel can be adapted for different journals, and provided general advice for getting started and formatting a paper for a particular journal. 2021-03-02 Clarification about how recent CMC data was processed with SPEAQeasy I explained that SPEAQeasy was used for the recent hg38 processing, and an older version of a similar pipeline was used for the original hg19 processing. We discussed our new method for retrieving gene symbols (“org.*.eg.db” packages) and some general code advice. 2021-03-02 Our group’s set-up and approach for writing papers with google docs, and managing citations I went through the setup and example usage of Sciwheel and cross reference, and gave general advice (it’s often easiest to start with the “Methods” section, etc) 2021-02-25 I need help in: downloading data from SRA to JHPCE, running SPEAQeasy to create rse object (one session will likely not be enough). I explained how to use SPEAQeasy at JHPCE, and we tried an experimental method for downloading SRA data. The method didn’t work, and we plan to meet again after I verify a more typical method works. 2021-02-23 I need help with setting up Mobaexterm. Unable to open new terminals and folder permission issues I hadn’t encountered the issue with new local terminals failing to open. I planned to follow up with better specific advice via email, and offer to explain this advice in a future DSGS. 2021-01-06 Correlation values from labeledHeatmap BioC Support website answer 2020-12-09 Help with importing HDF5 file Used ‘h5ls’ command from shell to verify contents of file; eventually found we were looking at the wrong file (error message was cryptic about issue). https://jhu-genomics.slack.com/archives/CUYHWV7AA/p1607034309074800 2020-12-02 Matching Variants Between Two VCF Objects BioC Support website answer 2020-11-20 ChipQC ‘names’ attribute [9] must be the same length as the vector [2]’ BioC Support website answer 2020-11-11 How does one modify a single value of a field in a seqinfo object? BioC Support website answer 2020-11-04 Extracting Sequences from Fasta Files with Rsamtools BioC Support website answer 2020-11-02 Help with SpaceRanger NA 2020-10-28 Changing Row Names of MultiAssayExperiment Assay BioC Support website answer 2020-10-28 issue running spaceranger initial issue seemed to do with the spaceranger command arguments; we are continuining to investigate possible module issues or insufficient code in the blog post 2020-10-26 Help running speakeasy on MARCC and JHPCE please NA 2020-10-21 Question: Cannot Install gmapR Bioconductor Package BioC Support website answer "],["ryan.html", "10 Ryan", " 10 Ryan Date Help request Notes 2023-04-11 user had problem using import() function in R Looks like user was trying to create a plot and import data from a .csv file but was getting an error importing the csv https://community.rstudio.com/t/error-creating-a-windrose/164132 2023-03-21 user had question about generating rarefaction curves in R user had question about generating rarefaction curves in R. Issue found here https://support.bioconductor.org/p/9150366/#9150386 "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
