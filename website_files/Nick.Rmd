# Nick

| Date | Help request | Notes |
| ---- | ------------ | ----- |
| 2022-07-18 | CUDA issues with cellpose module | We worked through a few issues in the cellpose module, which each had a different cause. In one case, the version of torch/CUDA was outdated for the hardware. In another case, user-specific libraries were being referenced instead of the central module's libraries. |
| 2022-07-13 | Addressing SPEAQeasy error messages | The error messages involved a mismatch between sample ID and file name for the 'QualityTrimmed' process, as well as a supposed missing ID in the manifest (which was actually present). Simply resuming the pipeline got rid of both errors. |
| 2022-07-06 | Setting up SPEAQeasy | I described how to configure SPEAQeasy for a particular dataset, and how to manage two separate runs of SPEAQeasy as part of a different git repository (requiring the use of submodules) |
| 2022-07-01 | Question about how 'mitoRate' is calculated in SPEAQeasy | I showed the documentation's description of 'mitoRate' and linked to the code where it's computed: https://github.com/LieberInstitute/SPEAQeasy/blob/bfe4e664281b52c5e239e372393a8aea36084e0d/scripts/create_count_objects.R#L521-L533 |
| 2022-06-29 | zellkonverter error and guidance using SpaGCN | I described the need to manually convert some spatialExperiment slots prior to conversion with zellkonverter, and that some data types are not supported. I pointed to my SpaGCN code and the lines specifically responsible for clustering + writing outputs |
| 2022-06-23 | pulling in external changes to a git repository | I described when 'git pull' can be "safely" used, and when 'git reset' might have to be used beforehand |
| 2022-06-21 | help installing 'jaffelab' | I described the use of 'remotes::install_github' for GitHub-based packages. We encountered a GitHub authentication error that was solved by running the R code 'Sys.unsetenv("GITHUB_PAT")' prior to the normal installation command. |
| 2022-05-05 | Guide to creating a module at JHPCE | I described the two JHPCE-based repositories we push to (https://github.com/LieberInstitute/jhpce_mod_source and https://github.com/LieberInstitute/jhpce_module_config), my usual installation approach for python-based GPU-utilizing software, and the contents of the lua-based config enabling a module to load. |
| 2022-04-29 | creating a nextflow pipeline and supporting docker | I clarified the usage of nextflow channels, described when docker integration is likely to be worthwhile, and answered other general questions about processing data with a nextflow-based workflow |
| 2022-04-01 | Using the "redstone" software | After identifying that 'redstone' was a precompiled binary for Linux, I described how to use 'wget' to download software like this, set execute permissions if necessary, and run at JHPCE. |
| 2022-03-25 | Input files for custom annotation with SPEAQeasy | I recommended some adjustments to a custom GTF and transcripts FASTA to solve an error seen in SPEAQeasy where transcripts and annotation were found to be incompatible. |
| 2022-03-17 | Follow-up on custom annotation with SPEAQeasy | An error occurred in a SPEAQeasy run, which I identified to be due to not providing all the required inputs (specifically the sites at which to perform variant calling) |
| 2022-03-16 | Adding lines to a GTF for use in SPEAQeasy with custom annotation | We both verified additional transcript annotation added to a GENCODE GTF looked good for use as input to SPEAQeasy |
| 2022-03-14 | Error message running SPEAQeasy | An error occurred in the counts step, which I discovered was a bug in some filename-matching code |
| 2022-03-09 | Setting up passwordless login | I described two-factor authentication vs. passwordless login via SSH keys, and gave tips to set up the latter. |
| 2022-03-09 | Using custom annotation with SPEAQeasy | I described how to add additional transcripts to the relevant FASTA file then use SPEAQeasy's custom annotation option to use the new FASTA with the other default annotation files. |
| 2022-03-04 | Using the caracol queue | I described how requesting 'caracol' is similar to requesting 'bluejay', but elaborated on additional complications, like contention for the same GPU and using CUDA_VISIBLE_DEVICES properly, including with array jobs |
| 2022-03-02 | Generating bigWigs with SPEAQeasy | I referred her to the '--coverage' option with SPEAQeasy, which unfortunately cannot be run alone, which might be useful for an already-processed dataset |
| 2022-02-07 | Debugging seg fault with tensorqtl module | We tried to discover the source of a seg fault that would occur when she imported tensorqtl in python with the tensorqtl module. Another user and I weren't able to replicate the issue. We later discovered that there were lines in her .bashrc that might've interfered with the module to produce the issue. |
| 2022-02-04 | Using tensorqtl with a GPU | I described how to qrsh/sub jobs with the GPU node, including how to automatically set up 'CUDA_VISIBLE_DEVICES' to avoid contention for resources, and how to use the tensorqtl module to ensure GPUs were used when importing pytorch |
| 2022-02-04 | X11 and SSH issues | After ensuring our apparent Rstudio set-ups on our windows machines matched, she still wasn't able to forward X11 while using Rstudio. Regarding a different issue, we discovered that a particular machine required additional lines in the '~/.ssh/config' to properly enable RSA keys. |
| 2022-01-21 | accessing the 'gpu' node at JHPCE correctly | I described how it's accessed as a queue, but some manual work is left to the user (checking which GPUs are open and setting 'CUDA_VISIBLE_DEVICES') |
| 2021-12-15 | creating a 'samples.manifest' and choosing trimming settings | I described how I normally deduce sample IDs from FASTQ filenames when creating a 'samples.manifest' file for SPEAQeasy, described the difference between '--trim_mode' settings that SPEAQeasy supports, and showed how to check what samples were trimmed. |
| 2021-11-17 | using 'list.files' in R | I described using regular expressions in R to match files in a directory. We encountered a weird case where 'list.files' seemed to return different numbers of matched files when run repeatedly. After ensuring we were in the right directory, the issue went away, but it was unclear what caused the original problem. |
| 2021-10-06 | help with git | I explained how I get out of the situation where files that are too big get accidentally committed (using 'git log', 'git reset --soft', and other details) |
| 2021-10-04 | debugging SPEAQeasy errors | We worked through an error message from the 'VariantsMerge' process, uncovering (arguably) a bug in SPEAQeasy, and I advised how to temporarily circumvent the problem. I also suggested a command for renaming a set of files that initially broke SPEAQeasy's assumptions. |
| 2021-09-22 | help with 'umask' and git | I talked about how Linux does not allow creation of files w/ execution permissions set, regardless of 'umask' settings such as in the '.bashrc'. I also explained how I use branching with git and other tips for managing a repo that others also develop on. |
| 2021-09-10 | merging FASTQ files automatically via SPEAQeasy | We downloaded a metadata table from SRA and parsed it through R to programatically create a "samples.manifest" file for use in SPEAQeasy, that merged samples that were each split into multiple FASTQ files. |
| 2021-09-03 | identifying SPEAQeasy error | SPEAQeasy would appear to run into "file not found" errors for just a handful of random samples in a large dataset. I eventually traced the error to a disk mounting issue on a particular compute node, which was resolved through bitsupport. |
| 2021-08-26 | resuming SPEAQeasy after an issue in the counts step | I mentioned that she encountered a bug that was fixed in a more recent version of SPEAQeasy, but suggested she manually add a line of code temporarily so that she could resume the run before updating |
| 2021-08-25 | downloading FASTQ files from SRA | I referred her to a script I had written in the past that contains the required commands and configuration  (with comments) for using the SRA toolkit |
| 2021-08-06 | Forming a data frame from data in multiple files | I showed a fairly standard method for concatenating tabular data from multiple files into a single matrix, and saving the resulting R object |
| 2021-07-14 | getting SPEAQeasy running | In a series of email exchanges we diagnosed subtle errors resulting from bad FASTQ files and unintended options in the main script. Her feedback helped me improve some existing documentation. |
| 2021-07-14 | debugging SPEAQeasy errors | I described correct use of the "--input" argument, and we also found that many of the input FASTQs were empty, leading to a somewhat vague error message. |
| 2021-07-13 | formatting a LaTeX document and bookdown website | I attempted some formatting tricks to eliminate unwanted whitespace but was ultimately unsuccessful. We suspected the LaTeX template required the whitespace to exist. We also tried to fix a bug with the header of a bookdown RMD not rendering as expected. It seemed that re-writing the header (without making any visible changes) fixed the issue, though we weren't sure of the source of the initial problem. |
| 2021-07-02 | Help indexing a possibly corrupt VCF file | We confirmed that an existing VCF was corrupt and found that tabix expected bgzip-compressed VCF input rather than compressed BCF input. |
| 2021-06-30 | Specifying output logs on SGE | I briefly mentioned the "#$ -o" and "#$ -e" arguments, and how several logs will generate in your home directory without those arguments and without "#$ -cwd", when "qsub"ing a job at JHPCE. |
| 2021-06-16 | addressing SPEAQeasy error | we talked about how to use the "--strand" option, the source of the error that was encountered |
| 2021-05-19 | Making a module | We went through the creation of an LIBD JHPCE module, covering the documentation process, lua syntax, and how to test a module before pushing. |
| 2021-05-19 | Configuring a parallel series of bash scripts | We adapted a series of bash scripts requiring parallel functionality for use at JHPCE. This involved correctly setting some path variables and requesting multiple cores through SGE for some scripts. |
| 2021-05-13 | Setting up a SPEAQeasy run | I described how I typically construct a "samples.manifest" file and configure SPEAQeasy for a particular experiment. |
| 2021-05-03 | Running SPEAQeasy- follow up | We observed an issue where log parsing in SPEAQeasy behaved differently for Sreya and I due to a difference in default python version loaded at JHPCE. I fixed the hisat2/2.2.1 module to ensure consistent python version use. |
| 2021-04-28 | Constructing an array job from an existing sequential shell script | I showed how I typically produce an array job shell script for the situation where I have many samples of data to process the same way (SIMD). We talked about using a text file where each line contains one sample name, and referencing that in the array script. |
| 2021-04-26 | Running SPEAQeasy- follow up | We discussed how to handle strandness issues, and how different inferred strand patterns within a group of samples sequenced together can indicate problems with the input data. I described how to use the '--force_strand' option with SPEAQeasy |
| 2021-04-22 | Running SPEAQeasy | We went through cloning SPEAQeasy, creating a "samples.manifest" file with R, and other relevant details for running SPEAQeasy at JHPCE. I also helped Henry set up git at JHPCE |
| 2021-04-22 | Running SPEAQeasy- follow up | We troubleshooted strange errors from the main SPEAQeasy output, and saw that I was able to run the main script ("run_pipeline_jhpce.sh") but Sreya encountered errors with an identical script. We suspected permissions issues in her working directory, which she emailed bitsupport about. |
| 2021-04-19 | Running SPEAQeasy | Although we encountered permissions issues, I showed how to create a "samples.manifest" file and configure SPEAQeasy for a particular set of samples. |
| 2021-04-12 | Running the old RNA-seq pipeline on some SRA data | I showed my typical process for creating a "samples.manifest" file for a given dataset, and how to submit a pipeline run. We continued to debug some minor issues over slack |
| 2021-04-07 | Nextflow overview for work with imputation pipeline | I covered various nextflow concepts, as well as my typical approach in creating and running a nextflow project at JHPCE |
| 2021-03-22 | Using an LIBD module | I described the need for the "module use" command and modifying the .bashrc to easily use LIBD modules |
| 2021-03-18 | Download SRA data and run SPEAQeasy | I fetched the SRA files, created a manifest and execution script for SPEAQeasy, but had an issue running "fastq-dump". I decided to hand off the request, partially complete. |
| 2021-03-10 | qSVA explanation and code review | Josh walked me through some code performing qSVA for a recent project, and I offered some tips involving code organization/ readibility. |
| 2021-03-03 | Advice for writing papers | We discussed how Sciwheel can be adapted for different journals, and provided general advice for getting started and formatting a paper for a particular journal. |
| 2021-03-02 | Clarification about how recent CMC data was processed with SPEAQeasy | I explained that SPEAQeasy was used for the recent hg38 processing, and an older version of a similar pipeline was used for the original hg19 processing. We discussed our new method for retrieving gene symbols ("org.*.eg.db" packages) and some general code advice. |
| 2021-03-02 | Our group's set-up and approach for writing papers with google docs, and managing citations | I went through the setup and example usage of Sciwheel and cross reference, and gave general advice (it's often easiest to start with the "Methods" section, etc) |
| 2021-02-25 | I need help in: downloading data from SRA to JHPCE, running SPEAQeasy to create rse object (one session will likely not be enough). | I explained how to use SPEAQeasy at JHPCE, and we tried an experimental method for downloading SRA data. The method didn't work, and we plan to meet again after I verify a more typical method works. |
| 2021-02-23 | I need help with setting up Mobaexterm. Unable to open new terminals and folder permission issues | I hadn't encountered the issue with new local terminals failing to open. I planned to follow up with better specific advice via email, and offer to explain this advice in a future DSGS. |
| 2021-01-06 | Correlation values from labeledHeatmap | [BioC Support website answer](https://support.bioconductor.org/p/p133591/#p133927) |
| 2020-12-09 | Help with importing HDF5 file | Used 'h5ls' command from shell to verify contents of file; eventually found we were looking at the wrong file (error message was cryptic about issue). https://jhu-genomics.slack.com/archives/CUYHWV7AA/p1607034309074800 |
| 2020-12-02 | Matching Variants Between Two VCF Objects | [BioC Support website answer](https://support.bioconductor.org/p/p133110/#p133319) |
| 2020-11-20 | ChipQC 'names' attribute [9] must be the same length as the vector [2]' | [BioC Support website answer](https://support.bioconductor.org/p/134569/#p133028) |
| 2020-11-11 | How does one modify a single value of a field in a seqinfo object? | [BioC Support website answer](https://support.bioconductor.org/p/134139/#p132829) |
| 2020-11-04 | Extracting Sequences from Fasta Files with Rsamtools | [BioC Support website answer](https://support.bioconductor.org/p/131600/#p132617) |
| 2020-11-02 | Help with SpaceRanger | NA |
| 2020-10-28 | Changing Row Names of MultiAssayExperiment Assay | [BioC Support website answer](https://support.bioconductor.org/p/p132406/#p132459) |
| 2020-10-28 | issue running spaceranger | initial issue seemed to do with the spaceranger command arguments; we are continuining to investigate possible module issues or insufficient code in the [blog post](http://research.libd.org/rstatsclub/2020/10/20/using-space-ranger-at-jhpce/) |
| 2020-10-26 | Help running speakeasy on MARCC and JHPCE please | NA |
| 2020-10-21 | Question: Cannot Install gmapR Bioconductor Package | [BioC Support website answer](https://support.bioconductor.org/p/131285/#134921) |

